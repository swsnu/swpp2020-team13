{"version":3,"sources":["history.js","store/actions/types.js","store/actions/goal.js","store/actions/modal.js","store/actions/task.js","store/actions/achievement.js","store/actions/explore.js","components/Auth/AuthForm/index.js","store/actions/auth.js","components/common/Modal/Modal.js","components/Auth/Auth.jsx","pages/login/index.jsx","components/Menubar/MenuBarComponent.jsx","components/CalendarPanel/CalendarPanelComponent.jsx","components/AddAcc/AddAccForm.jsx","components/AccDetail/AccSegmentComponent.jsx","components/TaskBar/TaskBarComponent.jsx","components/GoalBody/AddTaskModal/AddTaskForm.jsx","components/GoalBody/AddTaskModal/AddTaskModal.jsx","components/GoalBody/GoalBodyComponent.jsx","pages/main/GoalListComponent.jsx","pages/main/CreateGoalComponent/CreateGoalComponent.jsx","pages/edit/EditGoalComponent.jsx","components/TaskBody/TaskBodyComponent.jsx","pages/edit/EditTaskComponent.jsx","pages/edit/EditPageComponent.jsx","pages/dashboard/DashBoardPanel/DashBoardPanelComponent.jsx","components/DashBoardGoalCards/DashBoardGoalCard.jsx","pages/dashboard/DashBoardCards/DashBoardCardsComponent.jsx","pages/dashboard/DashBoardComponent.jsx","pages/GoalDetail/Components/GeneralGoalInfo.jsx","pages/GoalDetail/Components/TaskInfo.jsx","pages/GoalDetail/Components/Ach.jsx","pages/GoalDetail/Components/AchInfo.jsx","pages/GoalDetail/TaskAndAchTotal.jsx","pages/GoalDetail/GoalDetailPage.jsx","pages/explore/components/RecCard.jsx","pages/explore/RecCardsGroup.jsx","pages/explore/ExplorePageComponent.jsx","pages/ExploreGoalDetail/ExploreGoalDetailPage.jsx","App.jsx","store/reducers/goalReducer.js","store/reducers/taskReducer.js","store/reducers/achievementReducer.js","store/reducers/modalReducer.js","store/reducers/exploreReducer.js","store/reducers/rootReducer.js","store/reducers/authReducer.js","store/store.js","index.js"],"names":["createBrowserHistory","SIGNUP_USER","LOGIN_USER","LOGOUT_USER","CLOSE_MODAL","OPEN_AUTH_MODAL","OPEN_ADD_TASK_MODAL","CLOSE_ADD_TASK_MODAL","OPEN_ADD_ACC_MODAL","CLOSE_ADD_ACC_MODAL","GET_ALL_GOAL","GET_GOAL","ADD_GOAL","EDIT_GOAL","DELETE_GOAL","ADD_TASK_TO_GOAL","DELETE_TASK_FROM_GOAL","EDIT_TASK_OF_SELECTED_GOAL","GET_ALL_TASK","ADD_TASK","DELETE_TASK","EDIT_TASK","GET_ACHIEVEMENTS_OF_TASK","GET_ACHIEVEMENTS_OF_GOAL","ADD_ACHIEVEMENT","EDIT_ACHIEVEMENT","DELETE_ACHIEVEMENT","EXPLORE_GET_ALL_GOAL","EXPLORE_GET_GOAL","EXPLORE_GET_ACH_BY_GOAL","getAllGoal","dispatch","axios","get","then","res","goals","data","console","log","type","actionTypes","payload","getGoal","id","goal","editGoal_","deleteGoal","delete","deleteGoal_","closeModal","ActionTypes","addTaskToGoal","task","user","title","start_at","deadline","importance","day_of_week","deleteTaskFromGoal","goal_id","task_id","deleteTask","a","get_achievements_of_task","explore_get_ach_by_goal_","achievements","required","errorMessage","error","className","CreateLoginForm","useDispatch","useForm","register","handleSubmit","errors","watch","Form","onSubmit","e","preventDefault","dataToForm","FormData","append","username","password","post","history","push","actionCreators","Segment","htmlFor","name","placeholder","ref","minLength","value","message","Button","Modal","props","ReactModal","setAppElement","children","style","overlay","position","top","left","right","bottom","backgroundColor","onClick","floated","Auth","isAuthModalOpen","useSelector","state","modal","authModal","useState","authMode","setAuthMode","form","password_current","reset","validateEmail","Cookies","input","isEmail","formData","headers","validateUsername","validate","borderColor","email","password_confirm","CreateSignupForm","isOpen","ButtonGroup","HomePage","onClickSignup","setState","openAuthModal","onClickLogin","this","isUserLoggedIn","center","aligned","Grid","columns","divided","marginLeft","Column","fontSize","React","Component","connect","auth","MenuBarComponent","onClickLogout","Sidebar","animation","vertical","visible","verticalAlign","rows","centered","Row","Menu","Item","as","class","Icon","size","CalendarPanelComponent","date","Date","onChange","moment","endOf","goalTitleList","goalList","map","g","List","paddingLeft","cursor","Content","Header","relaxed","bulleted","marginTop","AddAccForm","achievement","isEdit","isCreating","percentage_complete","today","undefined","startOf","unix","file","fileName","photo","description","fileChange","target","files","URL","createObjectURL","closeHandler","onPercentageCompleteChange","event","newValue","key","written_at","edit_achievement","add_achievement","GridColumn","width","src","Field","animated","hidden","Input","fluid","label","readOnly","active","spinner","text","boxShadow","border","Group","Slider","defaultValue","aria-labelledby","step","valueLabelDisplay","renderPhoto","fileRender","renderDescription","formValues","s3prefix","put","url","imageUrl","set","achievement_id","AccSegment","addAccopen","onClickEditAchievement","onClickAddAccHandler","renderTotal","today_ts","achievement_selected","filter","length","metric","Rating","viewBox","standalone","labelComponent","height","innerRadius","colorScale","textAnchor","x","y","color","onCloseSubmit","onSetAccSubmit","ach","TaskBarComponent","acc_open","accomplishment","des","percentage_done","deleteTaskHandler","to_weekdays","num","accOpenHandler","daylist","str","d_str","d","substring","icon","isRecurrent","Object","values","AddTaskForm","setImportance","setDayOfWeek","setTitle","setStartAt","setDeadline","deadline_in_ts","start_in_ts","dataForm","forEach","item","widths","Select","multiple","selection","options","format","iconPosition","dateFormat","goal_start_at","window","alert","goal_deadline","disabled","inline","AddTaskModal","isAddTaskModalOpen","addTask","GoalBodyComponent","tasks","selectedDate","addTaskModal","showAll","onClickEditGoalHandler","onClickDeleteHandler","confirm","onClickAddTaskHandler","openAddTaskModal","startAtDate","deadlineDate","tags","filtered_tasks","reduce","pre","t","weekday","includes","toTaskBar","toggle","celled","padding","circular","GoalList","onDeadlineSubmit","onGetAllGoals","todayGoalsList","selectTodayGoals","toGoalBody","CreateGoal","upload","tagOptions","preview","handleChangeStart","handleChangeDeadline","statusCode","alignItems","textAlign","maxWidth","maxHeight","minWidth","minHeight","FormField","onTagsChanged","Dropdown","search","clearable","allowAdditions","onAddItem","addTagOptions","setTag","tag","addGoal","marginRight","renderTitle","renderDeadline","renderTag","onClickHandler","withRouter","EditGoal","isEditing","selectedGoal","editGoal","defaultTagOptions","defaultTag","renderDefaultTagOptions","renderDefaultDate","re","RegExp","replace","TaskBodyComponent","editmode","readmode","onClickEditTaskHandler","neweditmode","newreadmode","onClickDeleteTaskHandler","renderDeadlineString","daystr","toLowerCase","charAt","toUpperCase","slice","editTask","handleChangeStartAt","renderEditMode","renderReadMode","EditTask","toTaskBody","EditPage","DashBoardPanel","percentage","wantedMetric","setMetric","useEffect","words","wordList","rotations","rotationAngles","fontFamily","fontSizes","fontStyle","fontWeight","colors","animate","easing","GoalCard","getRandomInt","min","max","Math","ceil","floor","random","renderTags","randomColor","Label","horizontal","marginBottom","Card","backgroundImage","backgroundSize","Description","header","s","extra","compact","DashBoardCards","select","show","goalCardList","showOptions","renderShowbyTime","renderSelect","start","prevHandler","nextHandler","paddingTop","DashBoardComponent","getMetric","list","getWordCloud","obj","find","w","GeneralGoalInfo","row","TaskInfo","setSelect","margin","onSelect","paddingBottom","Ach","dateString","AchInfo","avg","number","total","TaskAndAchTotal","selectedTask","achList","startIndex","onTaskSubmit","renderTaskInfo","taskInfo","originalTaskList","sort","b","renderAchTotal","originalAchList","GoalDetailPage","match","params","get_achievements_of_goal","RecCard","RecCardsGroup","RecCardList","display","ExplorePage","explore_getAllGoal","explore","ExploreGoalDetailPage","explore_getGoal","explore_get_ach_by_goal","defaults","xsrfHeaderName","xsrfCookieName","App","path","exact","component","CreatePage","DashBoard","initialState","reducer","action","newGoal","filteredGoals","concat","filteredTasks","modifiedSelectedGoal","deleted","rest","target_delete","target_deleted_task","updated_goal","rest_delete","newTask","filtered","_","mapKeys","omit","addAcc","modalReducer","rootReducer","combineReducers","goalReducer","taskReducer","achievementReducer","exploreReducer","router","connectRouter","middlewares","store","next","result","getState","thunk","routerMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.261c0f6d.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'\nexport default createBrowserHistory()","// auth //\nexport const SIGNUP_USER = 'SIGNUP_USER'\nexport const LOGIN_USER = 'LOGIN_USER'\nexport const LOGOUT_USER = 'LOGOUT_USER'\n\n// modal //\nexport const CLOSE_MODAL = 'CLOSE_MODAL'\nexport const OPEN_AUTH_MODAL = 'OPEN_AUTH_MODAL'\nexport const OPEN_ADD_TASK_MODAL = 'OPEN_ADD_TASK_MODAL'\nexport const CLOSE_ADD_TASK_MODAL = 'CLOSE_ADD_TASK_MODAL'\nexport const OPEN_ADD_ACC_MODAL = 'OPEN_ADD_ACC_MODAL'\nexport const CLOSE_ADD_ACC_MODAL = 'CLOSE_ADD_ACC_MODAL'\n\n// goal //\nexport const GET_ALL_GOAL = 'GET_ALL_GOAL';\nexport const GET_GOAL = 'GET_GOAL'\nexport const ADD_GOAL = 'ADD_GOAL'\nexport const EDIT_GOAL = 'EDIT_GOAL'\nexport const DELETE_GOAL = 'DELETE_GOAL'\nexport const ADD_TASK_TO_GOAL = 'ADD_TASK_TO_GOAL'\nexport const DELETE_TASK_FROM_GOAL = 'DELETE_TASK_FROM_GOAL'\nexport const EDIT_TASK_OF_SELECTED_GOAL = 'EDIT_TASK_OF_SELECTED_GOAL'\n\n// task //\nexport const GET_ALL_TASK = 'GET_ALL_TASK'\nexport const ADD_TASK = 'ADD_TASK'\nexport const DELETE_TASK = 'DELETE_TASK'\nexport const EDIT_TASK = 'EDIT_TASK'\n// export const EDIT_TASK_OF_ACHIEVEMENT = 'EDIT_TASK_OF_ACHIEVEMENT'\n\n// achievement //\nexport const GET_ACHIEVEMENTS_OF_TASK = 'GET_ACHIEVEMENTS_OF_TASK'\nexport const GET_ACHIEVEMENTS_OF_GOAL = 'GET_ACHIEVEMENTS_OF_GOAL'\nexport const ADD_ACHIEVEMENT = 'ADD_ACHIEVEMENT'\nexport const EDIT_ACHIEVEMENT = 'EDIT_ACHIEVEMENT'\nexport const DELETE_ACHIEVEMENT = 'DELETE_ACHIEVEMENT'\n\n// explore //\nexport const EXPLORE_GET_ALL_GOAL = 'EXPLORE_GET_ALL_GOAL'\nexport const EXPLORE_GET_GOAL = 'EXPLORE_GET_GOAL'\nexport const EXPLORE_GET_ACH_BY_GOAL = 'EXPLORE_GET_ACH_BY_GOAL'","import * as actionTypes from './types'\nimport axios from 'axios'\nimport history from '../../history'\n\nexport const getAllGoal_ = (goals) => {\n    console.log(\"getAllGoal_ goals: \", goals)\n    return { type: actionTypes.GET_ALL_GOAL, payload: goals }\n}\n\nexport const getAllGoal = () => {\n    return dispatch => {\n        return axios.get('/api/v1/goals/')\n        .then(res => dispatch(getAllGoal_(res.data)))\n    }\n}\n\nexport const getGoal_ = (goal) => {\n    return { type: actionTypes.GET_GOAL, payload: goal }\n}\n\nexport const getGoal = (id) => {\n    return dispatch => {\n        return axios.get('/api/v1/goals/' + id + '/')\n        .then(res => {\n            dispatch(getGoal_(res.data))\n            // history.push('/edit')\n        })\n    }\n}\n\nexport const addGoal_ = (goal) => {\n    return {\n        type: actionTypes.ADD_GOAL,\n        payload: goal\n    }\n}\n\nexport const addGoal = (formData, file) => async dispatch => {\n    const s3prefix = 'https://goalingball-test.s3.amazonaws.com/'\n    console.log(\"[DEBUG] addGoal formData: \", formData)\n    if (file) {\n        const res = await axios.get('/api/v1/uploads/')\n        console.log(\"[DEBUG] response.data in addGoal: \", res)\n\n        const response = await axios.put(res.data.url, file, {\n            headers: {\n                'Content-Type': 'image/jpeg' \n            }\n        })\n\n        const imageUrl = s3prefix + res.data.key\n        console.log(\"[DEBUG] imageUrl: \", imageUrl)\n        formData.append('photo', imageUrl)\n    } else {\n        console.log(\"[DEBUG] no file found in addGoal\")\n    }\n\n    const res = await axios.post('/api/v1/goals/', formData, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    })\n    console.log(\"[DEBUG] res from server when adding goal: \", res.data)\n    dispatch(addGoal_(res.data))\n    history.push('/main')\n}\n\nexport const editGoal = (id, data, file) => async dispatch => {\n    \n    console.log(\"[DEBUG] editGoal data: \", data)\n    if (file) { // edit a photo or create a new one\n        const s3prefix = 'https://goalingball-test.s3.amazonaws.com/'\n        let key = ''\n        if ('photo' in data) {\n            const re = new RegExp(s3prefix)\n            key = data['photo'].replace(re, '')\n        }\n        // no photo has been set yet \n        else {\n            const res = await axios.get('/api/v1/uploads/')\n            key = res.data.key\n        }\n\n        const res = await axios.put('/api/v1/uploads/', { key })\n\n        const response = await axios.put(res.data.url, file, {\n            headers: {\n                'Content-Type': 'image/jpeg' \n            }\n        })\n        \n        const imageUrl = s3prefix + res.data.key\n        data['photo'] = imageUrl\n        // console.log(\"changed photo: \", data['photo'])\n    } \n\n    console.log('Edit goal data: ', data)\n    // const data = {\n    //     title: formData.get('title'),\n    //     photo: formData.get('photo'),\n    //     deadline: formData.get('deadline'),\n    //     tags: formData.get('tags')\n    // }\n    // const data_json = JSON.stringify(Object.fromEntries(formData))\n    // console.log(\"data_json: \", data_json)\n    \n    // console.log(\"[DEBUG] edit goal data: \", datsa)\n\n    const res = await axios.put(`/api/v1/goals/${id}/`, data, {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    })\n    \n    dispatch(editGoal_(res.data))\n    // console.log(\"pushed\")\n    history.push('/main')\n}\n\nexport const editGoal_ = (goal) => {\n    return {\n        type: actionTypes.EDIT_GOAL,\n        payload: goal,\n    }\n}\n\nexport const deleteGoal_ = (id) => {\n    return {\n        type: actionTypes.DELETE_GOAL,\n        id: id\n    }\n}\n\nexport const deleteGoal = (id) => {\n    return dispatch => {\n        return axios.delete('/api/v1/goals/'+ id)\n        .then(res => dispatch(deleteGoal_(id)))\n    }\n}\n\n\n\n","import * as ActionTypes from \"./types\"\n\nexport const closeModal = () => {\n    return {\n        type: ActionTypes.CLOSE_MODAL,\n        payload: null\n    }\n}\n\nexport const openAuthModal = () => {\n    return {\n        type: ActionTypes.OPEN_AUTH_MODAL,\n        payload: null\n    }\n}\n\nexport const openAddTaskModal = () => {\n    return {\n        type: ActionTypes.OPEN_ADD_TASK_MODAL,\n        payload: null\n    }\n}\n\nexport const closeAddTaskModal = () => {\n    return {\n        type: ActionTypes.CLOSE_ADD_TASK_MODAL,\n        payload: null\n    }\n}\n\nexport const openAddAccModal = () => {\n    return {\n        type: ActionTypes.OPEN_ADD_ACC_MODAL,\n        payload: null\n    }\n}\n\nexport const closeAddAccModal = () => {\n    return {\n        type: ActionTypes.CLOSE_ADD_ACC_MODAL,\n        payload: null\n    }\n}","import * as actionTypes from './types'\nimport axios from 'axios'\nimport history from '../../history'\nimport { closeModal } from './modal'\n\nexport const getAllTask_ = (tasks) => {\n    return { type: actionTypes.GET_ALL_TASK, payload: tasks }\n}\n\nexport const getAllTask = () => {\n    return dispatch => {\n        return axios.get('/api/v1/tasks/')\n        .then(res => dispatch(getAllTask_(res.data)))\n    }\n}\n\nexport const addTask_ = (task) => {\n    return {\n        // type: actionTypes.ADD_GOAL,\n        // title: goal.title,\n        // photo: goal.photo ? goal.photo : null, \n        // created_at: goal.created_at ? goal.created_at : null,\n        // deadline: goal.deadline ? goal.deadline : null,\n        // tags: goal.tags ? goal.tags : null\n        type: actionTypes.ADD_TASK,\n        payload: {\n            id: task.id,\n            user: task.user,\n            goal: task.goal,\n            title: task.title,\n            importance: task.importance,\n            day_of_week: task.day_of_week,\n            start_at: task.start_at,\n            deadline: task.deadline\n        }\n    }\n}\n\nexport const addTaskToGoal = task => {\n    return {\n        type: actionTypes.ADD_TASK_TO_GOAL,\n        payload: {\n            id: task.id,\n            user: task.user,\n            goal: task.goal,\n            title: task.title,\n            start_at: task.start_at,\n            deadline: task.deadline,\n            importance: task.importance,\n            day_of_week: task.day_of_week\n        }\n    }\n}\n\nexport const deleteTaskFromGoal = (goal_id, task_id) => {\n    return {\n        type: actionTypes.DELETE_TASK_FROM_GOAL,\n        payload : { goal_id, task_id }\n    }   \n}\n\nexport const addTask = (formData, file) => async dispatch => {\n    const res = await axios.post('/api/v1/tasks/', formData, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    }) \n    console.log(\"addTask res.data: \", res.data)\n    dispatch(addTask_(res.data))\n    // history.push('/main')\n    dispatch(closeModal())\n    dispatch(addTaskToGoal(res.data))\n}\n\nexport const deleteTask_ = (id) => {\n    return {\n        type: actionTypes.DELETE_TASK,\n        payload: id\n    }\n}\n\nexport const deleteTask = (goal_id, task_id) => async dispatch => {\n    console.log(\"[DEBUG] deleteTask start\")\n    const res = await axios.delete('/api/v1/tasks/'+ task_id + '/')\n    dispatch(deleteTask_(task_id))\n    dispatch(deleteTaskFromGoal(goal_id, task_id))\n    console.log(\"[DEBUG] sdeleteTask done\")\n}\n\n// export const deleteTask = (goal, id) => {\n//     return dispatch => {\n//         return axios.delete('/api/v1/tasks/'+ id)\n//         .then(res => \n//             dispatch(deleteTask_(id))\n//             dispatch(addTaskToGoal(goal, id))\n//         )   \n//     }\n// }\n\nexport const editTask = (task_id, data) => async dispatch => {\n    const res = await axios.put(`api/v1/tasks/${task_id}/`, data, {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    })\n\n    console.log(\"edit task res.data: \", res.data)\n\n    dispatch({\n        type: actionTypes.EDIT_TASK,\n        payload: res.data\n    })\n    dispatch({\n        type: actionTypes.EDIT_TASK_OF_SELECTED_GOAL,\n        payload: res.data\n    })\n    // history.push('/edit')\n\n}","import * as actionTypes from './types'\nimport axios from 'axios'\nimport history from '../../history'\n\nexport const get_achievements_of_task = task_id => async dispatch => {\n     const res = await axios.get(`/api/v1/achievements/task/${task_id}/`)\n     console.log(\"[DEBUG] get_achievements_of_task res.data: \", res.data)\n     dispatch({\n         type: actionTypes.GET_ACHIEVEMENTS_OF_TASK,\n         payload: res.data\n     })\n}\n\nexport const get_achievements_of_goal = goal_id => async dispatch => {\n    const res = await axios.get(`/api/v1/achievements/goal/${goal_id}/`)\n    console.log(\"[DEBUG] get_achievements_of_goal res.data: \", res.data)\n    dispatch({\n        type: actionTypes.GET_ACHIEVEMENTS_OF_GOAL,\n        payload: res.data\n    })\n}\n\nexport const add_achievement = (formValues, file) => async dispatch => {\n    const s3prefix = 'https://goalingball-test.s3.amazonaws.com/'\n    if (file) {\n        const res = await axios.get('/api/v1/uploads/')\n        const response = await axios.put(res.data.url, file, {\n            headers: {\n                'Content-Type': 'image/jpeg' \n            }\n        })\n        const imageUrl = s3prefix + res.data.key\n        formValues.set('photo', imageUrl)\n    } \n\n    const res = await axios.post('/api/v1/achievements/', formValues, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    })\n    dispatch({\n        type: actionTypes.ADD_ACHIEVEMENT,\n        payload: res.data\n    })\n    history.push('/main')\n}\n\nexport const edit_achievement = (achievement_id, data, file, key) => async dispatch => {\n    if (file) { // edit a photo or create a new one\n        const s3prefix = 'https://goalingball-test.s3.amazonaws.com/'\n        // no photo has been set yet\n        if (!key) { \n            const res = await axios.get('/api/v1/uploads/')\n            key = res.data.key\n        }\n        const res = await axios.put('/api/v1/uploads/', { key })\n\n        await axios.put(res.data.url, file, {\n            headers: {\n                'Content-Type': 'image/jpeg' \n            }\n        })\n        \n        const imageUrl = s3prefix + res.data.key\n        data['photo'] = imageUrl\n    } \n    else {\n        if (key) {  // delete a photo\n            // TODO\n            // make another axios call\n        }\n    }\n    // else: no editing or creating a photo\n    \n    const res = await axios.put(`/api/v1/achievements/${achievement_id}/`, data, {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    })\n    console.log('edit achievement res.data: ', res.data)\n    dispatch({\n        type: actionTypes.EDIT_ACHIEVEMENT,\n        payload: res.data\n    })\n    const task_id = res.data.task\n    dispatch(get_achievements_of_task(task_id))\n    history.push('/main')\n}\n\n// Is it allowed to delete an existing achievement?\nexport const delete_achievement = achievement_id => async dispatch => {\n    const res = await axios.delete(`/api/v1/achievements/${achievement_id}/`)\n    if (res.status == 200) {\n        dispatch({\n            type: actionTypes.DELETE_ACHIEVEMENT,\n            payload: achievement_id\n        })\n        // TODO: DELETE_ACHIEVEMENT_FROM_TASK\n    }\n    else {\n        console.log(\"Fail to delete an achievement with id \", achievement_id)\n    }\n}","import * as actionTypes from './types'\nimport axios from 'axios'\n\nexport const explore_getAllGoal_ = (goals) => {\n    console.log(\"explore_getAllGoal_ goals: \", goals)\n    return { type: actionTypes.EXPLORE_GET_ALL_GOAL, goals: goals.slice(1, goals.length) } // remove ML status info from response\n}\n\nexport const explore_getAllGoal = () => {\n    return dispatch => {\n        return axios.get('/api/v1/explore/recommend/')\n        .then(res => dispatch(explore_getAllGoal_(res.data)))\n    }\n}\n\nexport const explore_getGoal_ = (goal) => {\n    return { type: actionTypes.EXPLORE_GET_GOAL, target: goal }\n}\n\nexport const explore_getGoal = (id) => {\n    return dispatch => {\n        return axios.get('/api/v1/explore/recommend/' + id + '/')\n        .then(res => {\n            dispatch(explore_getGoal_(res.data))\n        })\n    }\n}\n\nexport const explore_get_ach_by_goal = (id) => {\n    return dispatch => {\n        return axios.get('/api/v1/explore/recommend/ach/' + id + '/')\n        .then(res => {\n            dispatch(explore_get_ach_by_goal_(res.data))\n        })\n    }\n}\n\nexport const explore_get_ach_by_goal_ = (achievements) => {\n    return { type: actionTypes.EXPLORE_GET_ACH_BY_GOAL, achievements: achievements }\n}","import React from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Menu } from 'semantic-ui-react'\nimport { Form, Button, Segment } from 'semantic-ui-react'\nimport './AuthForm.css'\nimport * as actionCreators from '../../../store/actions'\nimport { useDispatch } from 'react-redux'\nimport isEmail from 'validator/lib/isEmail';\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\n// const mapDispatchToProps = dispatch => {\n//     return {\n//         onSignup: ()\n//     }\n// }\n\n/*\nWARNING: the order of declarations of React hooks in CreateSignupForm and CreateLoginForm should be consistent\nFor example, if useDispatch() is declared at the top CreateSignupForm, the same must be true in CreateLoginForm\nRemember that orders matter in React Hooks\n*/ \n\n// const emailRegex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n\nconst required = \"This field is required\"\nconst errorMessage = error => <div className=\"invalid-feedback\">{error}</div>\n\nexport const CreateSignupForm = () => {\n    const dispatch = useDispatch()\n\n    const { register, handleSubmit, watch, errors, reset } = useForm()\n    \n    const onSubmit = (data, e) => { // e: event\n        e.preventDefault()\n        console.log(\"[DEBUG] signup form submitted\")\n        // console.log(\"[DEBUG] signup form data: \", data)\n        // let dataToForm = new FormData()\n        // dataToForm.append(\"username\", data.username)\n        // dataToForm.append(\"password\", data.password1)\n        // dispatch(actionCreators.signupUser(dataToForm))\n        // reset()\n    }\n\n    const password_current = watch(\"password\", \"\")\n    const csrftoken = Cookies.get('csrftoken')\n\n    const validateEmail = async input => {\n        if (isEmail(input)) {\n            let formData = new FormData()\n            formData.append('email', input)\n            const res = await axios.post('/api/v1/users/clean_email/', formData, {\n                headers: { \"Content-Type\": \"multipart/form-data\" } \n            })\n            if (res.data === \"true\") {\n                return true\n            } else {\n                // email already exists\n                return \"Email already exists\"\n            }\n        } else {\n            return \"Not valid email pattern\"\n        }\n    }\n\n    const validateUsername = async input => {\n        let formData = new FormData()\n        formData.append('username', input)\n        const res = await axios.post('/api/v1/users/clean_username/', formData, {\n            headers: { \"Content-Type\": \"multipart/form-data\" } \n        })\n        if (res.data === \"true\") {\n            return true\n        } else {\n            // email already exists\n            return \"Username already exists\"\n        }\n    }\n\n    return (\n        <Form className=\"signupForm\" onSubmit={handleSubmit(onSubmit)}>\n        <Segment className=\"signupSegment\">\n            <label htmlFor=\"email\">Email</label>\n            <input \n                id=\"email\" \n                name=\"email\" \n                placeholder=\"Enter email\" \n                ref={register({\n                    required: required, \n                    validate: validateEmail}\n                )}\n                style={{ borderColor: errors.email && \"red\" }} \n            />\n            {errors.email && errorMessage(errors.email.message)}\n            \n            <label htmlFor=\"username\">Username</label>\n            <input \n                id=\"username\" \n                name=\"username\" \n                placeholder=\"Enter username\" \n                ref={register({\n                    required: required,\n                    minLength: {\n                        value: 5,\n                        message: \"min length is 5\"\n                    },\n                    validate: validateUsername\n                })}\n                style={{ borderColor: errors.username && \"red\" }}  \n            />\n            {errors.username && errorMessage(errors.username.message)}\n            \n            <label htmlFor=\"password\">Password</label>\n            <input \n                id=\"password\" \n                name=\"password\"\n                type=\"password\" \n                placeholder=\"Enter password\" \n                ref={register({ \n                        required: required,\n                        minLength: {\n                            value: 4,\n                            message: \"Password must have at least 4 characters\"\n                        }\n                    })\n                } \n                style={{ borderColor: errors.password && \"red\" }}\n            />\n            {errors.password && errorMessage(errors.password.message)}\n            \n            <label htmlFor=\"password_confirm\">Confirm password</label>\n            <input \n                id=\"password_confirm\" \n                name=\"password_confirm\"\n                type=\"password\" \n                placeholder=\"Confirm password\" \n                ref={register({ \n                        required: required,\n                        validate: value => value === password_current || \"The passwords do not match\"\n                    })\n                } \n                style={{ borderColor: errors.password_confirm && \"red\" }}\n            />\n            {errors.password_confirm && errorMessage(errors.password_confirm.message)}\n            </Segment>\n            <Button type=\"submit\" className=\"submitButton\">Sign Up</Button>\n        </Form> \n    )\n    \n}\n\n\nexport const CreateLoginForm = () => {\n    const dispatch = useDispatch()\n    const { register, handleSubmit, watch, errors } = useForm()\n    \n    const onSubmit =(data, e) => { // e: event\n        e.preventDefault()\n        let dataToForm = new FormData()\n        dataToForm.append(\"username\", data.username)\n        dataToForm.append(\"password\", data.password)\n        dispatch(actionCreators.loginUser(dataToForm))\n    }\n\n    return (\n        <Form onSubmit={handleSubmit(onSubmit)}>\n         <Segment className=\"LoginSegment\">\n            <label htmlFor=\"username\">Username</label>\n            <input \n                id=\"username\" \n                name=\"username\" \n                placeholder=\"Enter username\" \n                ref={register({\n                    required: required,\n                    minLength: {\n                        value: 5,\n                        message: \"Username must be at leat 5 characters\"\n                    }\n                })} \n            />\n            {errors.username && errorMessage(errors.username.message)}\n\n            <label htmlFor=\"password\">Password</label>\n            <input \n                id=\"password\" \n                name=\"password\" \n                type=\"password\" \n                placeholder=\"Enter password\" \n                ref={register({ required: required })} />\n            {errors.password && errorMessage(errors.password.message)}\n            </Segment>\n            <Button type=\"submit\" className=\"submitButtonLogin\">Login</Button>\n        </Form>\n    )\n}\n\n\n","import * as actionTypes from './types'\nimport axios from 'axios'\nimport {push} from 'connected-react-router'\nimport history from '../../history'\n\nexport const signupUser_ = (user) => {\n    return {\n        type: actionTypes.SIGNUP_USER,\n        payload: {\n            id: user.id,\n            username: user.username,\n        }\n    }\n}\n\nexport const signupUser = (data) => {\n    return (dispatch) => {\n        return axios.post('/api/v1/users/signup/', data, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\"\n            }\n        })\n        .then((res) => dispatch(signupUser_(res.data)))\n    }\n}\n\nexport const loginUser_ = (user) => {\n    console.log(\"[DEBUG] loginUser action. user: \", user)\n    return {\n        type: actionTypes.LOGIN_USER,\n        payload: {\n            id: user.id,\n            username: user.username,\n        }\n    }\n}\n\nexport const loginUser = (data) => async (dispatch) => {\n    // console.log(\"[DEBUG] data to loginUser: \", data)\n    const res   = await axios.post('/api/v1/users/login/', data)\n    // console.log(\"[DEBUG] res in loginUser: \", res)\n    dispatch(loginUser_(res.data))\n    history.push('/main')\n}\n\n// export const loginUser = (data) => {\n//     return (dispatch) => {\n//         console.log(\"[DEBUG] data to loginUser: \", data)\n//         return axios.post('/api/v1/users/login/', data, {\n//             headers: {\n//                 \"Content-Type\": \"multipart/form-data\"\n//             }\n//         })\n//         .then((res) => {dispatch(loginUser_(res.data))\n\n//         // .then((res) => dispatch(loginUser_(res.data)))\n//         .then(()=>{history.push('/main')})\n//     }\n// }\n\n\nexport const logoutUser = () => {\n    axios.post('/api/v1/users/logout/')\n    return { \n        type: actionTypes.LOGOUT_USER,\n        payload: null\n    }\n}","import React from 'react'\nimport ReactModal from 'react-modal'\nimport { useDispatch } from 'react-redux'\n\nimport { closeModal } from '../../../store/actions'\nimport {Button} from 'semantic-ui-react'\nimport './Modal.css'\n\nexport const Modal = (props) => {\n    if (process.env.NODE_ENV !== 'test') {ReactModal.setAppElement('#root')}\n\n    const { children } = props\n\n    const dispatch = useDispatch()\n\n    return (\n        <ReactModal id=\"reactModal\"\n            {...props}\n            style={{\n                overlay: {\n                  position: 'fixed',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  backgroundColor: 'rgba(230, 230, 230, 0.5)'\n                }}}\n        >\n            {children}\n            <Button\n                className=\"modal__close-btn\"\n                onClick={() => dispatch(closeModal())}\n                floated=\"right\"\n                id=\"closeButton\"\n            >\n                close\n            </Button>\n        </ReactModal>\n    )\n}\n\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { CreateSignupForm, CreateLoginForm } from './AuthForm'\nimport { Modal } from '../common/Modal/Modal'\nimport { Segment, Button, ButtonGroup } from 'semantic-ui-react'\nimport './Auth.css'\n\nconst Auth = (props) => {\n    // useSelector is equivalent to mapStateToProps\n    const isAuthModalOpen = useSelector(state => state.modal.authModal)\n    // useState is equivalent to this.state\n    const [authMode, setAuthMode] = useState(props.authMode)\n    \n    const form = authMode === 'signup' \n        ? CreateSignupForm()\n        : CreateLoginForm()\n    \n    return (\n        <Segment className=\"SegmentModal\" >\n        <Modal isOpen={isAuthModalOpen}>\n            <div className=\"modal-container small-container modal-auth\" id=\"Auth\">\n                <ButtonGroup className=\"ButtonGroupModal\" floated=\"right\">\n                <Button onClick={() => setAuthMode('signup')} id=\"AuthSignup\">Sign Up</Button>\n                <Button onClick={() => setAuthMode('login')} id=\"AuthLogin\">Log In</Button>\n                </ButtonGroup>\n                {/* <div>{authMode == AuthMode.signup ? 'Sign Up' : 'Log In'}</div> */}\n                <br></br>\n                <div className=\"modal__body\">\n                   {form}\n                </div>\n            </div>\n        </Modal>\n        </Segment>\n    )\n}\n\nexport default Auth","import React from 'react'\nimport { connect } from 'react-redux'\nimport './login.css'\nimport Auth from '../../components/Auth/Auth'\nimport { openAuthModal } from '../../store/actions'\nimport history from '../../history'\nimport { Segment, Menu, Grid, Container, Form, Button, ButtonGroup} from 'semantic-ui-react'\n\nclass HomePage extends React.Component {\n\n    state = {\n        authMode: 'signup'\n    }\n\n    onClickSignup = () => {\n        this.setState({ authMode: 'signup' })\n        this.props.openAuthModal()\n    }\n\n    onClickLogin = () => {\n        this.setState({ authMode: 'login' })\n        this.props.openAuthModal()\n    }\n    \n    render() {\n        if (this.props.isUserLoggedIn) {\n            // Redirect to main page\n            history.push('/main')\n            return <div>Should redirect to main page</div>\n        }\n\n        return (\n            <Form center={'true'} aligned={'true'} className=\"FormLogin\">\n            <Segment className=\"Segment\">\n                <Grid columns={2} className=\"grid\" divided='vertically' style={\n                    {marginLeft: '10px'}\n                }>\n                <Grid.Column>\n                <h2 className=\"title\">Goaling Ball</h2>\n                <h3 className=\"subtitle\" style={\n                    {\n                        fontSize: '17px'\n                    }\n                }>Your goal management service.</h3>\n                </Grid.Column>\n                <Grid.Column>\n                <ButtonGroup className=\"ButtonGroup\">\n                <Button onClick={this.onClickSignup} className=\"Button\" id=\"ButtonSignup\">SIGN UP</Button >\n                {/* <Button.Or /> */}\n                <Button onClick={this.onClickLogin} className=\"Button\" id=\"ButtonLogin\">LOGIN</Button>\n                </ButtonGroup>\n                </Grid.Column>\n                </Grid>\n                {this.props.isAuthModalOpen && <Auth authMode={this.state.authMode} />}\n                {console.log(\"DEBUG: \", this.props.isAuthModalOpen)}\n            </Segment>\n            </Form>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isUserLoggedIn: state.auth, \n        isAuthModalOpen: state.modal.authModal \n    }\n}\n\nexport default connect(mapStateToProps, { openAuthModal })(HomePage)","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import {withRouter} from 'react-router'\nimport \"./MenuBar.css\"\nimport * as actionCreators from '../../store/actions/index'\nimport { useDispatch } from 'react-redux'\nimport { Icon, Sidebar, Menu, Grid } from 'semantic-ui-react'\nimport history from '../../history'\n\nconst MenuBarComponent = (props) => {\n\n    const auth = useSelector(state => state.auth)\n    const dispatch = useDispatch()\n\n    const onClickLogout = () => {\n        dispatch(actionCreators.logoutUser())\n        history.push('/')\n    }\n\n    // if (!auth) {\n    //     props.history.push('/')\n    // }\n\n    return (\n        <Sidebar className=\"Sidebar\"\n        animation='uncover'\n        vertical\n        visible=\"true\"\n        // width='very thin'\n        >   \n        <Grid verticalAlign='middle' rows={5} centered className=\"gridBar\">\n        <Grid.Row>\n            <Menu.Item as='a' >\n                <button class='ui basic button' onClick={()=> {history.push('/create')}} className='button-create' id=\"CreateButton\">\n                    <Icon name='plus circle' size='large' id='icon'></Icon>\n                    <br></br>\n                    Create\n                </button>\n            </Menu.Item>\n            </Grid.Row>\n\n            <Grid.Row>\n            <Menu.Item as='a'>\n                <button class='ui basic button' onClick={()=>history.push('/main')} className='button' id=\"MainButton\">\n                    <Icon name='home' size='large' id='icon'></Icon>\n                    <br></br>\n                    Main\n                </button>\n            </Menu.Item>\n            </Grid.Row>\n\n            <Grid.Row>\n            <Menu.Item as='a'>\n                <button class='ui basic button' onClick={()=>history.push('/dashboard')} className='button' id=\"DashButton\">\n                    <Icon name='chart bar outline' size='large' id='icon'></Icon>\n                    <br></br>\n                    Dashboard\n                </button>\n            </Menu.Item>\n            </Grid.Row>\n            <Grid.Row>\n            <Menu.Item as='a'>\n                <button class='ui basic button' onClick={()=>history.push('/explore')} className='button' id=\"ExpButton\">\n                    <Icon name='search' size='large' id='icon'></Icon>\n                    <br></br>\n                    Explore\n                </button>\n            </Menu.Item>\n            </Grid.Row>\n            {/* <Grid.Row>\n            <Menu.Item as='a'>\n                <button class='ui basic button' onClick={()=>props.history.push('/profile')} className='button' id=\"ProfileButton\">\n                    <Icon name='user circle' size='large' id='icon'></Icon>\n                    <br></br>\n                    Profile\n                </button>\n            </Menu.Item>\n            </Grid.Row> */}\n            <Grid.Row>\n            <Menu.Item as='a'>\n                <button class='ui basic button' onClick={()=>onClickLogout()} className='button-logout' id=\"LogoutButton\">\n                    <Icon name='arrow alternate circle right outline' size='large' id='icon'></Icon>\n                    <br></br>\n                    Logout\n                </button>\n            </Menu.Item>\n            </Grid.Row>\n        </Grid>\n        </Sidebar>\n    )\n}\n\n\n\nexport default MenuBarComponent","import React, { useState, Component } from 'react';\nimport Calendar from 'react-calendar'\nimport \"./CalendarPanel.css\"\nimport moment from 'moment'\n\nimport { Icon, Sidebar, Menu, List } from 'semantic-ui-react'\n\n\nclass CalendarPanelComponent extends Component {\n    state = {\n      date: new Date(),\n    }\n   \n    onChange = date => {\n        this.setState({ date })\n        console.log(\"DEBUG on Calendar\",moment(date).endOf(\"day\"))\n        this.props.onSubmit(date)\n    }\n    \n    render() {\n\n      const goalTitleList = this.props.goalList.map(g => {return(<List.Item style={\n        {\n          paddingLeft: '20px',\n          cursor: 'default'\n        }\n      }>\n        <List.Content>\n          <List.Header as='a'>{g.title}</List.Header>\n      </List.Content>\n      </List.Item>)})\n      return (\n        <nav class='panel' className=\"CalendarPanel\">\n          <Calendar id=\"Calendar\"\n            onChange={this.onChange}\n            value={this.state.date}\n          />\n          <List relaxed bulleted style={\n            {\n              paddingLeft: '30px'\n            }\n          }>\n          <p style ={\n            {\n              marginTop: '10px'\n            }\n          }>GOALS</p>\n            {goalTitleList}\n          </List>\n        </nav>\n      );\n    }\n  }\n\nexport default CalendarPanelComponent","import React, { Component, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport { Form , Button, Input, Icon, Progress, Segment, FormField, Dropdown, label, Grid, Container, GridColumn} from 'semantic-ui-react'\nimport Slider from \"@material-ui/core/Slider\"\nimport './AddAccForm.css'\nimport { add_achievement, edit_achievement } from '../../store/actions';\nimport LoadingOverlay from 'react-loading-overlay';\n\nclass AddAccForm extends Component {\n\n    state = {\n        achievement: this.props.achievement,\n        isEdit: this.props.achievement ? true : false,\n        isCreating: false,\n        percentage_complete: this.props.achievement ? this.props.achievement.percentage_complete : 0,\n        today: (this.props.today == undefined) ? null : moment(this.props.today).startOf('day').unix() + (24*60*60) - 1,\n        file: null,\n        fileName: \"\",\n        photo: this.props.achievement ? this.props.achievement.photo :\n            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png',\n        description: this.props.achievement ? this.props.achievement.description : \"\"\n    }\n\n    // DiscreteSlider = () => {\n    //     // const classes = useStyles()  \n    //     return (\n    //       <div className=\"slider\">\n    //         <h5>\n    //             How much percentage did you do?\n    //         </h5>\n    //         <Slider\n    //           defaultValue={80}\n    //           getAriaValueText={this.valuetext}\n    //           aria-labelledby=\"discrete-slider-always\"\n    //           step={10}\n    //           // marks={marks}\n    //           valueLabelDisplay=\"on\"\n    //         />\n    //       </div>\n    //     )\n    //   }\n\n    fileChange = e => {\n        if(e.target.files){\n            this.setState(\n                { file: e.target.files[0], fileName: e.target.files[0].name,},\n                () => { console.log( \"File chosen --->\", this.state.file, console.log(\"File name  --->\", this.state.fileName))},\n            )\n            // console.log(\"AddAccForm this.state.file: \", this.state.file)\n            \n            this.setState({ photo:  URL.createObjectURL(e.target.files[0])});\n            // let reader = new FileReader()\n            // // set a callback function\n            // reader.onloadend = () => {\n            //     console.log(\"reader.result: \", reader.result)\n            //     this.setState({ photo: reader.result });\n            // }\n            // reader.readAsDataURL(e.target.files[0])\n            // console.log(this.state.photo) // caution: do not accept heic files\n        }  \n    }\n\n    fileRender() {\n        return(\n            <Segment>\n                <Grid columns='2' divided>\n                    <GridColumn width='5'>\n                        <h5>See Photo Preview</h5>\n                    </GridColumn>\n                    <GridColumn width='10'>\n                    <img id=\"image\" src={this.state.photo} className=\"AccPreviewImage\"></img>\n                    </GridColumn>\n                </Grid>\n                {/* <AccPhotoPreview url={imageUrl}></AccPhotoPreview> */}\n            </Segment>\n        )\n    }\n\n   renderPhoto() {\n        return (\n            <Segment className=\"AddAccPhoto\">\n            <Form.Field>\n                <label id=\"PhotoInput\">{this.state.isEdit ? \"Edit \" : \"Add \"} Achievement Photo</label>\n            <Button as=\"label\" htmlFor=\"file\" type=\"button\" animated=\"fade\">\n              <Button.Content visible>\n                <Icon name=\"file\" />\n              </Button.Content>\n              <Button.Content hidden>Choose a File</Button.Content>\n            </Button>\n            <input type=\"file\" id=\"file\" className=\"AccPhoto\" hidden onChange={this.fileChange}/>\n            <Form.Input fluid label=\"Photo Chosen \" placeholder=\"Use the above bar to browse your file system\" readOnly\n              value={this.state.fileName}\n            />\n            <Button style={{ marginTop: \"7px\" }} onClick={this.fileChange} id=\"UploadPhotoButton\"> See Preview </Button>\n          </Form.Field>\n          </Segment>\n        )\n    }\n\n    renderDescription() {\n        return (\n            <Form.Field className=\"AddAccDes\">\n                <label>Description</label>\n                <Input \n                    fluid\n                    placeholder='Write a description about your acheivement'\n                    value={this.state.description}\n                    onChange={e => this.setState({description: e.target.value})}\n                />\n            </Form.Field>\n        )\n    }\n\n    closeHandler = () => {\n        this.props.onSubmit()\n    }\n\n    onPercentageCompleteChange = (event, newValue) => {\n      this.setState({percentage_complete: newValue})  \n    //   console.log(this.state.percentage_complete)\n    }\n\n    handleSubmit = async () => {\n        this.setState({ isCreating: true })\n        if (this.state.isEdit) {\n            const id = this.props.achievement.id\n            const key = this.props.achievement.photo\n            const data = {\n                // task_id: this.props.task_id,\n                percentage_complete: this.state.percentage_complete,\n                written_at: this.state.today,\n                description: this.state.description,\n                photo: this.state.photo\n            }\n            await this.props.edit_achievement(id, data, this.state.file, key)\n        } \n        else {\n            let form = new FormData()\n            // console.log(\"DEBUG Ach form: sending percentage_complete\", this.state.percentage_complete)\n            form.append(\"task_id\", this.props.task_id)\n            form.append(\"percentage_complete\", this.state.percentage_complete)\n            form.append(\"written_at\", this.state.today)\n            form.append(\"description\", this.state.description)\n            // form.append(\"photo\", this.state.photo)\n            await this.props.add_achievement(form, this.state.file)    \n        }\n        this.props.onSubmit(false)\n\n    }\n\n    render(){\n        // console.log(\"this.props.achievement: \", this.props.achievement)\n        return(\n        <LoadingOverlay\n            className=\"AddAccForm\"\n            active={this.state.isCreating}\n            spinner\n            text={this.state.isEdit ? \"Edit \" : \"Add\" + \"ing your achivement...\"}\n            >\n            <Form>\n                {/* {console.log(\"DEBUG ADD Ac\", this.props)} */}\n                <Segment className=\"AddAccForm\" id=\"AddAccFormSegment\"\n                style={\n                    {boxShadow: \"none\", border: \"none\"}\n                    }>\n                <h3>&nbsp; {this.state.isEdit ? \"Edit \" : \"Add \"} Achievements</h3>\n\n                {/* Add slider to record done_percentage */}            \n                <Form.Group>\n                    <div>\n                    <Grid columns='2' className=\"SliderRoot\">\n                        <GridColumn width={6}>\n                        <h4 className=\"SliderRootTitle\">\n                            How much did you do?\n                        </h4>\n                        </GridColumn>\n                        <GridColumn width={8}>\n                            <Slider\n                            defaultValue={this.state.percentage_complete}\n                            aria-labelledby=\"discrete-slider-always\"\n                            step={10}\n                            onChange={this.onPercentageCompleteChange}\n                            // marks={marks}\n                            valueLabelDisplay=\"on\"\n                            />\n                        </GridColumn>\n                    </Grid>\n                    </div>\n                    </Form.Group>\n                        {/* Upload and preview photo*/}\n                        <div>\n                            <Grid columns='2'>\n                                <GridColumn className=\"AccPhotoForm\" width={6}>\n                                {this.renderPhoto()}\n                                </GridColumn>\n                                <GridColumn width={8}>\n                                {this.fileRender()}\n                                </GridColumn>\n                            </Grid>\n                        </div>\n                        {this.renderDescription()}\n                        <Button.Group>\n                            <Form.Button className=\"AddAccSubmitButton\" onClick={this.handleSubmit}>Submit</Form.Button>\n                            <Form.Button className=\"AddAccCloseButton\" onClick={this.closeHandler}>Close</Form.Button>                           \n                        </Button.Group>\n                </Segment>\n            </Form>\n            </LoadingOverlay>\n        )\n    }\n\n}\n\nexport default connect(null, { add_achievement, edit_achievement })(AddAccForm)\n","import React, {Component} from 'react'\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Container} from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport Axios from 'axios'\nimport moment from 'moment'\nimport history from '../../history'\nimport './AccSegment.css'\nimport { VictoryPie, VictoryTheme, VictoryLabel } from 'victory'\nimport SVG from 'react-inlinesvg'\nimport Rating from '@material-ui/lab/Rating'\nimport { openAddAccModal } from '../../store/actions/index'\nimport AddAccForm from '../AddAcc/AddAccForm'\n\nclass AccSegment extends Component {\n\n    state = {\n        addAccopen: false,\n        achievement: null\n    }\n\n    onClickEditAchievement = achievement => {\n        this.setState({ addAccopen : true, achievement })\n    }\n\n    onClickAddAccHandler = () => {\n        this.setState({ addAccopen : true })\n    }\n\n    renderTotal = () => {\n        let achievement = null\n        // this.props.today is a Date object\n        const today_ts = moment(this.props.today).startOf('day').unix() + (24*60*60) -1\n        const achievement_selected = this.props.achievements.filter(a => ( a.written_at == today_ts ) && (a.task == this.props.task.id) )\n        if (achievement_selected.length > 0) {\n            achievement = achievement_selected[0]\n        }\n\n        if (achievement) {\n            console.log(\"udpaet this.set.achievement\")\n            const metric = achievement.percentage_complete\n            return(\n                <Segment className=\"AccContainer\" >\n                    <h4>Your accomplishment of {this.props.task.title}:</h4>\n                    <Grid columns=\"2\" >\n                        <Grid.Column width={2}className=\"importance\">\n                            <p>Importance</p>\n                        </Grid.Column>\n                        <Grid.Column className=\"ImportanceRating\">\n                            <Rating\n                                name=\"simple-controlled\"\n                                size=\"small\"\n                                value={this.props.task.importance}\n                                readOnly\n                            />\n                        </Grid.Column>\n                    </Grid>\n                    <Grid columns='2'className=\"AccGrid\" divided>\n                        <Grid.Column width={6} className=\"AccContainerPercentage\">\n                            {/* \"percentage\" */}\n                            <svg viewBox=\"0 0 520 520\">\n                                <VictoryPie\n                                    standalone={false}\n                                    labelComponent={<span/>}\n                                    width={520} height={520}\n                                    data={[{'key': \"\", 'y': metric}, {'key': \"\", 'y': (100-metric)} ]}\n                                    innerRadius={166}\n                                    colorScale={[\"#19B3A6\", \"#EEEEEE\" ]}\n                                    // style={{ labels: { fontSize: 20, fill: \"white\" } }}\n                                />\n                                <VictoryLabel\n                                    textAnchor=\"middle\"\n                                    style={{ fontSize: 50 }}\n                                    x={260} y={260}\n                                    text={metric + \"%\"}\n                                />\n                            </svg>\n                            <p className=\"AccChartTitle\">percentage done</p>\n                        </Grid.Column>\n                        <Grid.Column width={9} className=\"AccContainerDetail\">\n                            {/* <AccCard/> */}\n                            <Grid columns='2'>\n                                <Grid.Column width='5'>\n                                    <h5>See Photo Preview</h5>\n                                </Grid.Column>\n                                <Grid.Column width='10'>\n                                <img id=\"image\" src={achievement.photo} className=\"AccPreviewImage\"></img>\n                                </Grid.Column>\n                            </Grid>\n                        </Grid.Column>\n                        {/* <p>\"Example Description\"</p> */}\n                    </Grid>\n                    <br></br>\n                    <div className=\"description\">\n                        <Icon name='pencil alternate' style={{color: '#5F5F5F'}}/>{achievement.description}\n                        {/* <p>Example Description</p> */}\n                    </div>\n                    <div className=\"description\">\n                        <Button floated='right' size=\"tiny\" onClick={() => this.onClickEditAchievement(achievement)} id=\"EditAchButton\">Edit</Button>\n                        <br></br>\n                        <br></br>\n                    </div>\n                </Segment>\n            ) \n        }\n        else {\n            // console.log(this.props.achievements)\n            return(\n                <Segment className=\"DefaultAchSegment\">\n                    <h4>No achievements yet. Add one if you're done!</h4>\n                    {(!this.state.addAccopen) && <Button onClick={this.onClickAddAccHandler} className=\"DefaultAchAddButton\">Add an Achievement</Button>}\n                    {/* {this.state.addAccopen && <AddAccForm onSubmit={this.onCloseSubmit} today={this.props.today} task_id={this.props.task.id}/>} */}\n                </Segment>\n            )\n        }\n    }\n    \n    onCloseSubmit = () => {\n        this.setState({addAccopen: false})\n    }\n\n    onSetAccSubmit = (ach) => {\n        this.setState({achievement: ach})\n    }\n\n    render() {\n        return(\n            <>\n                {this.state.addAccopen ? \n                    <AddAccForm \n                        today={this.props.today} \n                        task_id={this.props.task.id} \n                        onSubmit={this.onCloseSubmit}\n                        achievement={this.state.achievement}\n                    /> \n                    : this.renderTotal()\n                }\n            </>\n        )\n    }\n}\n\n\n\nexport default AccSegment\n\n","import React, {Component} from 'react'\nimport { List, Icon, Checkbox, Grid, Button, Segment} from 'semantic-ui-react'\nimport './TaskBar.css'\nimport AccSegment from '../AccDetail/AccSegmentComponent'\nimport { deleteTask, get_achievements_of_task } from '../../store/actions/index'\nimport { connect } from 'react-redux'\n\nclass TaskBarComponent extends Component {\n\n    state = {\n        acc_open: false,\n        accomplishment: null,\n        addAccopen: false,\n        achievement: {des: \"des\", percentage_done: 0}\n    }\n\n    // componentDidMount = () => {\n    //     console.log(\"TODAY in taskbar\" ,this.props.today)\n    // }\n\n    //need to fetch accomplishments from a selected task\n    //select the accomplishment with the same date\n\n    deleteTaskHandler = () => {\n        console.log(\"DEBUG date send\", this.props.goal, this.props.task.id)\n        this.props.deleteTask(this.props.goal, this.props.task.id)\n    }\n\n    to_weekdays = (num) => {\n        switch(num){\n            case(\"MONDAY\"):\n                return \"Mon\"\n            case(\"TUESDAY\"):\n                return \"Tue\"\n            case(\"WEDNESDAY\"):\n                return \"Wed\"\n            case(\"THURSDAY\"):\n                return \"Thu\"\n            case(\"FRIDAY\"):\n                return \"Fri\"\n            case(\"SATURDAY\"):\n                return \"Sat\"\n            case(\"SUNDAY\"):\n                return \"Sun\"\n        }\n    }\n\n    toRecString(daylist) {\n        let str = \"\"\n        const d_str = daylist.map(d => this.to_weekdays(d))\n        for (var d of d_str) {\n            str = str + d + \", \" \n        }\n        return str.substring(0, (str.length)-2)\n    }\n\n    isRecurrent(daylist) {\n        // console.log(\"[DEBUG] TaskBarComponent isRecurrent daylist: \", daylist)\n        if(daylist.length == 0) {\n            return(\n                <Button.Group size=\"tiny\" floated=\"right\">\n                <Button icon className=\"TaskBarButton\" onClick={this.deleteTaskHandler}>\n                    <Icon name='x' />\n                </Button>\n                </Button.Group>\n            )\n        }\n        else {\n            return (\n                <Button.Group size=\"tiny\" floated=\"right\" id=\"Recurrent\">\n                    <Button icon className=\"TaskBarButton\">\n                    <Icon name='redo' />\n                </Button>\n                <Button icon className=\"TaskBarButton\" id=\"X\" onClick={this.deleteTaskHandler}>\n                    <Icon name='x' />\n                </Button>\n                </Button.Group>\n          )\n        }\n    }\n\n    accOpenHandler = async () => {\n        if(this.state.acc_open == false) {\n            await this.props.get_achievements_of_task(this.props.task.id)\n            // console.log(\"ACHIEVEMENTS\", this.props.achievements)\n            this.setState({acc_open: true})\n        }\n        else{\n            this.setState({acc_open: false})\n        }\n    }\n\n    render() {\n        const { title, id, deadline, day_of_week } = this.props.task\n        console.log(\"[DEBUG] TaskBarComponent is rendering. task: \", this.props.task)\n        return(\n        <> \n            <List.Item className=\"TaskBarListItem\">\n                <List.Content floated='right'>\n                    {this.isRecurrent(day_of_week)}\n                </List.Content>\n                {/* <Button icon className=\"TaskBarListTriangle\"><Icon name='right triangle'/></Button> */}\n                {/* <Icon className=\"TaskBarListTriangle\" name='right triangle'/> */}\n                <List.Content className=\"TaskBarListContent\">\n                    <Button icon className=\"TaskBarListTriangle\" onClick={()=>this.accOpenHandler()}><Icon name='right triangle'/></Button>\n                        {title} \n                {/* <Button icon className=\"TaskBarListTriangle\" onClick={this.accOpenHandler}><Icon name='right triangle'/></Button>\n                    {title}  */}\n                </List.Content>\n                    {/* {this.state.acc_open && <p>\"Show Accomplishment\"</p>} */}\n            </List.Item>\n            {this.state.acc_open && <AccSegment task={this.props.task} today={this.props.today} achievements={this.props.achievements}/>}\n            </>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        achievements: Object.values(state.achievement),\n    }\n}\n\nexport default connect(mapStateToProps, { deleteTask, get_achievements_of_task }) (TaskBarComponent)","import React, { useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Grid, Menu } from 'semantic-ui-react'\nimport { Form, Button, Segment } from 'semantic-ui-react'\nimport * as actionCreators from '../../../store/actions'\nimport { useDispatch } from 'react-redux'\nimport './AddTaskForm.css'\nimport Rating from '@material-ui/lab/Rating';\nimport DatePicker from \"react-datepicker\"\nimport moment from 'moment'\nimport { DateInput} from 'semantic-ui-calendar-react'\n\nconst AddTaskForm = (props) => {\n    const { register, handleSubmit, watch, errors , reset} = useForm()\n    const dispatch = useDispatch()\n    const onSubmit = (data, e) => { // e: event\n        // const deadline_date = moment((deadline + ' '+ 'OO:OO:OO'), 'YYYY-MM-DD HH:MM:SS')     // as deadline is set as Form.Input instead of datepicker\n        // console.log(\"type of deadline\", deadline_date)\n        // console.log(title, day_of_week, deadline, importance)\n        // ts: timestamp\n        const deadline_in_ts = moment(deadline).startOf('day').unix() + (24*60*60 - 1)\n        const start_in_ts = moment(start_at).startOf('day').unix()\n        const dataForm = new FormData()\n        dataForm.append(\"title\", title)\n        dataForm.append(\"goal_id\", props.goal_id)\n        day_of_week.forEach(item => {\n            dataForm.append('day_of_week', item);\n           });\n        // dataForm.append(\"day_of_week\", day_of_week)  \n        dataForm.append('start_at', start_in_ts)      \n        dataForm.append(\"deadline\", deadline_in_ts)\n        dataForm.append(\"importance\", importance)\n        dispatch(actionCreators.addTask(dataForm))\n        reset()\n    }   \n\n    const onError = (errors, e) => console.log(errors, e);\n    watch() // watchAllFields\n\n    const options = [\n        { key: 'm', text: 'Monday', value: 'MONDAY' },\n        { key: 't', text: 'Tuesday', value: 'TUESDAY' },\n        { key: 'w', text: 'Wednesday', value: 'WEDNESDAY' },\n        { key: 'th', text: 'Thursday', value: 'THURSDAY' },\n        { key: 'f', text: 'Friday', value: 'FRIDAY' },\n        { key: 's', text: 'Saturday', value: 'SATURDAY' },\n        { key: 'su', text: 'Sunday', value: 'SUNDAY' },\n      ]\n    const [importance, setImportance] = React.useState(2)\n    const [day_of_week, setDayOfWeek] = React.useState([])\n    const [title, setTitle] = React.useState(\"\")\n    const [start_at, setStartAt] = React.useState(new Date)\n    const [deadline, setDeadline] = React.useState(new Date)\n    // const [deadlineString, setDeadlineString] = React.useState(\"\")\n\n    // const reg_deadline = new RegExp('^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]$')\n\n    // const setDeadlineString = (string) => {\n    //     console.log(\"[DEBUG] dadline string: \", string)\n    //     const deadline = moment(string, 'YYYY-MM-DD').startOf('day').unix() + (24*60*60 - 1)\n    //     setDeadline(deadline)\n    // }\n\n    const handleChangeDeadline = (event, {name, value}) => {\n        if(moment(value).unix() > props.goal_deadline){\n            window.alert(\"task deadline cannot be later than goal deadline. Goal deadline will be set.\")\n            setDeadline(moment.unix(props.goal_deadline).format(\"YYYY-MM-DD\"))\n        }\n        else {\n            console.log(\"DEBUG in addtask:\", moment(value))\n            setDeadline(moment(value))\n        }\n      }\n\n    const handleChangeStart = (event, {name, value}) => {\n        console.log(moment(value))\n        console.log(props.goal_start_at)\n        if(moment(value).unix() < props.goal_start_at){\n            window.alert(\"task start date cannot be earlier than goal start date. Goal start date will be set.\")\n            // console.log(moment.unix(props.goal_deadline).format(\"YYYY-MM-DD\"))\n            setStartAt(moment.unix(props.goal_start_at).format(\"YYYY-MM-DD\"))\n            setDeadline(moment.unix(props.goal_start_at).format(\"YYYY-MM-DD\"))\n        }\n        else {\n            setStartAt(moment(value))\n            setDeadline(moment(value))\n        }\n     }\n\n    return (\n        <Form onSubmit={handleSubmit(onSubmit, onError)}>\n            <Segment className=\"AddTaskForm\" id=\"AddTaskFormSegment\">\n                <h3>&nbsp; Add Task</h3>\n                <Form.Group widths='equal'>\n                    <Form.Input label='Title' placeholder='Enter task title' onChange={(e,data)=> setTitle(data.value)} id=\"AddTaskFormTitle\"/>\n                    </Form.Group>\n                        <Form.Group>\n                            <Form.Select\n                                multiple selection\n                                label='Day of Week'\n                                id=\"AddTaskFormDayofWeek\"\n                                options={options}\n                                onChange={(e,data)=>setDayOfWeek(data.value)}\n                                placeholder='Day of Week'\n                            />\n                            <DateInput\n                                id=\"AddTaskFormStartAt\"\n                                label='Start at'\n                                name=\"start_at\"\n                                placeholder=\"Date\"\n                                value={moment(start_at).format('YYYY-MM-DD')}\n                                iconPosition=\"left\"\n                                dateFormat=\"YYYY-MM-DD\"\n                                onChange={handleChangeStart}\n                                // disabled={day_of_week.length == 0 ? true : false}\n                            /> \n                            <DateInput\n                                id=\"AddTaskFormDeadline\"\n                                label='Deadline'\n                                name=\"deadline\"\n                                placeholder=\"Date\"\n                                value={moment(deadline).format('YYYY-MM-DD')}\n                                iconPosition=\"left\"\n                                dateFormat=\"YYYY-MM-DD\"\n                                onChange={handleChangeDeadline}\n                                disabled={day_of_week.length == 0 ? true : false}\n                            />                 \n                            </Form.Group>\n                    <Form.Group inline>\n                    <label>Importance</label>\n                        <Rating\n                        name=\"simple-controlled\"\n                        size=\"large\"\n                        id=\"AddTaskFormImportance\"\n                        value={importance}\n                        onChange={(event, newValue) => {\n                            setImportance(newValue);\n                        }} \n                        />\n                    </Form.Group>\n                    <Form.Button className=\"AddTaskSubmitButton\">Submit</Form.Button>                    \n                </Segment>\n        </Form>\n    )\n}\n\nexport default AddTaskForm","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport './AddTaskModal.css'\nimport { Modal } from '../../common/Modal/Modal'\nimport { Segment, Button, ButtonGroup } from 'semantic-ui-react'\nimport AddTaskForm from './AddTaskForm'\n\nconst AddTaskModal = (props) => {\n    const isAddTaskModalOpen = useSelector(state => state.modal.addTask)\n    return (\n        <Segment className=\"SegmentAddTask\" id=\"SegmentAddTaskModal\">\n        <Modal style={\n            {\n                border: 'none'\n            }\n        } isOpen={isAddTaskModalOpen} className=\"SegmentAddTask\">\n            <div className=\"modal-container small-container modal-addTask\">\n                <div className=\"modal__body\">\n                   <AddTaskForm goal_id={props.goal_id} goal_deadline={props.goal_deadline} goal_start_at={props.goal_start_at}/>\n                </div>\n            </div>\n            <Button\n                className=\"modal__close-btn\"\n                onClick={() => dispatch(closeModal())}\n                floated=\"right\"\n                id=\"closeButton\"\n            >\n                close\n            </Button>\n        </Modal>\n        </Segment>\n    )\n}\n\nexport default AddTaskModal ","import React, {Component} from 'react'\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Container} from 'semantic-ui-react'\nimport './GoalBody.css'\nimport TaskBarComponent from '../TaskBar/TaskBarComponent'\nimport AddTaskModal from './AddTaskModal/AddTaskModal'\nimport { connect } from 'react-redux'\nimport Axios from 'axios'\nimport { deleteGoal, openAddTaskModal, getGoal, } from '../../store/actions/index'\nimport moment from 'moment'\nimport history from '../../history'\n\nclass GoalBodyComponent extends Component {\n    // props have goal id, title, deadline, and tags\n    // the tasks here are originally from backend\n    // TODO: connect with redux\n\n    state = {\n        tasks: this.props.goal.tasks,\n        selectedDate: null,\n        addTaskModal: false,\n        showAll:false,\n        // tasks: this.props.goal.tasks ? this.props.goal.tasks : []\n    }\n\n    // TODO: implement selectCertainTask function - select tasks depending on date & deadline & day of week - done\n    onClickEditGoalHandler = async () => {\n        // change \"selectedGoal\" in state.goals\n        // TODO: do we need to fetch it from backend? Why not just modify the store without accessing the backend?\n        await this.props.getGoal(this.props.goal.id)\n        history.push('/edit')\n    }\n\n    onClickDeleteHandler = () => {\n        let deleteGoal = window.confirm(\"Tasks and achievements of this goal will be lost. Are you sure?\")\n        if (deleteGoal) {\n          this.props.deleteGoal(this.props.goal.id)\n        }\n    }\n\n    onClickAddTaskHandler = () => {\n        this.setState({ addTaskModal : true})\n        this.props.openAddTaskModal()\n    }\n\n    // start_at is a timestamp\n    startAtDate = (start_at) => {\n        return moment.unix(start_at).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    // deadline is a timestamp\n    deadlineDate = (deadline) => {\n        return moment.unix(deadline).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    to_weekdays = (num) => {\n        switch(num){\n            case(1):\n                return \"MONDAY\"\n            case(2):\n                return \"TUESDAY\"\n            case(3):\n                return \"WEDNESDAY\"\n            case(4):\n                return \"THURSDAY\"\n            case(5):\n                return \"FRIDAY\"\n            case(6):\n                return \"SATURDAY\"\n            case(0):\n                return \"SUNDAY\"\n        }\n    }\n\n    render() {\n        console.log(\"GoalBodyComponent this.props.goal: \", this.props.goal)\n        const { title, id, deadline, start_at, tags, tasks } = this.props.goal\n        const today = moment(this.props.today).startOf('day').unix()\n        // console.log(today)\n\n        const filtered_tasks_date = tasks.reduce((pre, t)=> {\n            // today should be included in the range\n           if((t.start_at <= today) && (t.deadline >= today)) {\n               pre.push(t)\n           }\n           return pre\n        }, [])\n\n        const filtered_tasks = filtered_tasks_date.reduce((pre, t) => {\n            if(t.day_of_week.length == 0) {pre.push(t)}\n            else {\n                console.log(moment(this.props.today).weekday())\n                const weekday = this.to_weekdays(moment(this.props.today).weekday())\n                if(t.day_of_week.includes(weekday)) {\n                    pre.push(t)\n                }\n            }\n            return pre\n        }, [])\n\n        // console.log(tasks)\n        // console.log(filtered_tasks_date)\n        let toTaskBar = []\n        if(this.state.showAll) {\n            toTaskBar =  tasks.map(task => <TaskBarComponent task={task} key={task.id} goal={this.props.goal.id} today={this.props.today}/>)\n        }\n        else {\n            toTaskBar = filtered_tasks.map(task => <TaskBarComponent task={task} key={task.id} goal={this.props.goal.id} today={this.props.today}/>)\n        }\n        // let toTaskBar = []\n        // if((tasks !== undefined) && (tasks.length > 0)){toTaskBar = tasks.map(task => <TaskBarComponent task={task} key={task.id} />)}\n        \n        // console.log(\"[DEBUG] GoalBodyComponent is rendering. this.props.goal: \", this.props.goal)\n        // console.log(\"[DEBUG] GoalBodyComponent is rendering. tasks: \", tasks)\n\n    return(\n        <Segment className=\"GoalBodySegment\">\n            <List className=\"GoalBodyTitleList\">\n                <List.Item className=\"GoalBodyListItem\">\n                <Icon name='circle' className=\"GoalBodyListIcon\" size=\"small\"/>\n                    <List.Content className=\"GoalBodyListTitle\">\n                        <List.Header className=\"GoalBodyListTitleHeader\">\n                            {title}\n                            <Button \n                                floated=\"right\" \n                                size=\"tiny\"\n                                toggle active={this.state.showAll} \n                                onClick={()=>{this.setState({showAll: !(this.state.showAll)})}}\n                                id=\"showAllTaskButton\"\n                            >\n                                Show All Tasks\n                            </Button>\n                        </List.Header>\n                        {/* <List.Item className=\"GoalBodyListDeadline\">Until {this.deadlineDate(this.props.deadline)}</List.Item> */}\n                        <div className=\"GoalBodyListDeadline\">From {this.startAtDate(start_at)}, Until {this.deadlineDate(deadline)}</div>\n                    </List.Content>\n                </List.Item>\n            </List>\n            <List className=\"GoalBodyListwithTask\" celled>\n                {toTaskBar}\n            </List>\n            <List.Item>\n                    <Button.Group className=\"DeleteGoalButtonGroupAnother\" floated=\"left\">\n                        <Button icon id=\"EditButtonGoalBody\" onClick={()=>this.onClickEditGoalHandler()}\n                            style={\n                                {\n                                    backgroundColor: \"#ffffff\",\n                                    padding: '5px'\n                                }\n                            }>\n                            <Icon name='edit'/>\n                            </Button>\n                        <Button icon id=\"DeleteButtonGoalBody\" onClick={()=>this.onClickDeleteHandler()}\n                            style={\n                                {\n                                    backgroundColor: \"#ffffff\",\n                                    padding: '5px'\n                                }\n                            }>\n                            <Icon name='trash'/></Button>\n                    </Button.Group> \n                    <Button circular onClick={()=>this.onClickAddTaskHandler()} floated=\"right\" icon=\"add\" size=\"tiny\" className=\"GoalBodyAddButton\" id=\"AddButtonGoalBody\"></Button>\n            </List.Item>\n            {/* <Button circular floated=\"right\" icon=\"add\" size=\"mini\" className=\"GoalBodyAddButton\"></Button> */}\n            {(this.state.addTaskModal && this.props.isAddTaskModalOpen) && <AddTaskModal goal_id={id} goal_deadline={deadline} goal_start_at={start_at}/>}\n            <br></br>\n        </Segment>\n    )\n    }\n}\n\nconst mapStateToProps = state => {\n    console.log(state)\n    return {\n        isAddTaskModalOpen: state.modal.addTask\n    }\n}\n\nexport default connect(mapStateToProps, { openAddTaskModal, deleteGoal, getGoal }) (GoalBodyComponent)","import React, {Component} from 'react'\nimport MenuBar from '../../components/Menubar/MenuBarComponent'\nimport CalendarPanel from '../../components/CalendarPanel/CalendarPanelComponent'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Container } from 'semantic-ui-react';\nimport GoalBodyComponent from '../../components/GoalBody/GoalBodyComponent'\nimport './GoalListComponent.css'\nimport Axios from 'axios'\nimport * as actionCreators from '../../store/actions/'\nimport moment from 'moment'\n\n\nclass GoalList extends Component {\n\n    state = {\n        today: new Date()\n    }\n\n    componentDidMount(){\n        this.props.onGetAllGoals()\n    }\n\n    selectTodayGoals() {\n        const today = moment(this.state.today).unix()\n        console.log(\"selectTodayGoals this.props.goalList: \", this.props.goalList)\n        const todayGoals = this.props.goalList.filter(goal => (goal.start_at <= today && today <= goal.deadline))\n        return todayGoals\n    }\n \n    onDeadlineSubmit = (date) => {\n        this.setState({today: date})\n    }\n\n    render(){\n\n        //map sampleGoalList to goalBodyComponent\n        const todayGoalsList = this.selectTodayGoals()\n        \n        const toGoalBody = todayGoalsList.map(goal =>  <GoalBodyComponent goal={goal} key={goal.id} today={this.state.today}/>)\n        console.log(\"[DEBUG] GoalListComponent is rendering\")\n\n        return(\n            <div>\n                <div className='menubar'>\n                    {console.log(this.props)}\n                    <MenuBar/>\n                </div>\n                <div className='calendarpanel'>\n                    <CalendarPanel onSubmit={this.onDeadlineSubmit} goalList={todayGoalsList}/>\n                </div>\n                <div className='goallist'>\n                    <h2 className=\"componentTitle\">What's for today?</h2>\n                    {toGoalBody}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    console.log(\"goalList: \", state.goal.goals)\n    return {\n        goalList: state.goal.goals,\n        // taskList: state.task.tasks,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return{\n        onGetAllGoals: () => dispatch(actionCreators.getAllGoal()),\n        // onGetAllTasks: () => dispatch(actionCreators.getAllTask())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (GoalList)","import React, { Component, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport DatePicker from \"react-datepicker\"\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport MenuBar from '../../../components/Menubar/MenuBarComponent'\nimport { withRouter } from 'react-router-dom'\nimport { Form , Button, Input, Icon, Progress, Segment, FormField, Dropdown, label, Grid, Container} from 'semantic-ui-react'\nimport './CreateGoal.css'\n\nimport history from '../../../history'\n// import \"react-datepicker/dist/react-datepicker.css\"\nimport * as actionCreators from '../../../store/actions'\nimport { addGoal } from '../../../store/actions'\nimport { DateInput} from 'semantic-ui-calendar-react'\n// import { isThisMonth } from 'date-fns/esm'\n\n\nclass CreateGoal extends Component {\n\n    state = {\n      title: \"\",\n      file: null,\n      fileName: \"\",\n      upload: false,\n      deadline: new Date(),\n      start_at: new Date(),\n      tags: [],\n      tagOptions:[],\n      isCreating: false,\n      preview: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png'\n    }\n\n    fileChange = e => {\n        if(e.target.files){\n        this.setState(\n          { file: e.target.files[0], fileName: e.target.files[0].name, upload: true},\n          () => { console.log( \"File chosen --->\", this.state.file, console.log(\"File name  --->\", this.state.fileName))},\n          )\n          this.setState({ preview:  URL.createObjectURL( e.target.files[0])});\n        }\n        \n        else {\n        }\n        \n    }\n\n    renderTitle() {\n        return (\n            <Form.Field>\n                <label>Goal Title</label>\n                <Input placeholder='Enter Title Here' \n                className=\"CreateGoalTitle\"\n                onChange={(e)=>this.setState({title: e.target.value})}></Input>\n            </Form.Field>\n        )\n    }\n\n    renderPhoto() {\n        const { statusCode } = this.state;\n        return (\n            <Segment>\n                <Grid columns='2'>\n                    <Grid.Column width=\"11\">\n                        <Form.Field style={\n                            {\n                                marginTop: '20px'\n                            }\n                        }>\n                                <label id=\"PhotoInput\">Add Goal Photo</label>\n                            <Button as=\"label\" htmlFor=\"file\" type=\"button\" animated=\"fade\">\n                            <Button.Content visible>\n                                <Icon name=\"file\" />\n                            </Button.Content>\n                            <Button.Content hidden>Choose a File</Button.Content>\n                            </Button>\n                            <input type=\"file\" id=\"file\" className=\"GoalPhoto\" hidden onChange={this.fileChange}/>\n                            <Form.Input fluid label=\"Photo Chosen \" placeholder=\"Use the above bar to browse your file system\" readOnly\n                            value={this.state.fileName}\n                            />\n                            {/* <Button style={{ marginTop: \"7px\" }} onClick={this.fileChange} id=\"UploadPhotoButton\"> Upload </Button> */}\n                        </Form.Field>\n\n                    </Grid.Column>\n                    <Grid.Column width=\"5\">\n                    {this.fileRender()}\n                    </Grid.Column>\n                </Grid>\n          </Segment>\n        )\n    }\n\n    // selectDeadline(date) {\n    //     this.setState({deadline:date})\n    // }\n\n    // formatDate(d) {\n    //     // console.log(date.toString('MM/dd/yyyy'))\n    //     var curr_date = d.getDate();\n    //     var curr_month = d.getMonth() + 1; //Months are zero based\n    //     var curr_year = d.getFullYear();\n    //     return curr_month + \"/\" + curr_date + \"/\" + curr_year\n    // }\n\n    fileRender() {\n        return(\n\n                    <Segment style={\n                        {\n                            boxShadow: 'none',\n                            alignItems: 'center'\n                            \n                        }\n                    }\n                    textAlign='center'>\n                    <img id=\"image\" src={this.state.preview} style={\n                        {\n                            maxWidth: '150px', \n                            maxHeight: '180px',\n                            minWidth: '150px',\n                            minHeight: '150px',                      \n                        }\n                    }></img>\n                    </Segment>\n\n        )\n    }\n\n\n    handleChangeStart = (event, {name, value}) => {\n         this.setState({ [name]: value });\n      }\n\n    handleChangeDeadline = (event, {name, value}) => {\n        this.setState({ [name]: value });\n     }\n\n    renderDeadline() {\n        if(moment(this.state.start_at).startOf('day') > moment(this.state.deadline).startOf('day')){\n            window.alert(\"Goal start date should be earlier than the goal deadline.\")\n            this.setState({start_at : this.state.deadline})\n        }\n        return(\n            <Segment>\n                <FormField>\n                    {/* <label>Select Goal Deadline</label> */}\n                    <Grid columns='two' textAlign='center' className=\"DeadlineGrid\">\n                    <Grid.Column width={5}>\n                    {/* <Input id=\"todayDate\" style={{ width: \"175px\" }} readOnly value={this.formatDate(this.state.startdate)}></Input> */}\n                    <DateInput\n                                id=\"GoalFormStart\"\n                                label='Starting From'\n                                name=\"start_at\"\n                                placeholder=\"Date\"\n                                value={moment(this.state.start_at).format('YYYY-MM-DD')}\n                                iconPosition=\"left\"\n                                dateFormat=\"YYYY-MM-DD\"\n                                onChange={this.handleChangeStart}\n                            />  \n                    </Grid.Column >\n                    {/* <Grid.Column width={1}><Container><h5>to</h5></Container></Grid.Column> */}\n                    <Grid.Column  width={5}>\n                    {/* <DatePicker style={{ width: \"150px\" }} dateformat={\"YYYY-MM-DD\"} selected={this.state.deadline} onChange={(date)=>{this.selectDeadline(date)}} /> */}\n                    <DateInput\n                                id=\"GoalFormDeadline\"\n                                label='Deadline'\n                                name=\"deadline\"\n                                placeholder=\"Date\"\n                                value={moment(this.state.deadline).format('YYYY-MM-DD')}\n                                iconPosition=\"left\"\n                                dateFormat=\"YYYY-MM-DD\"\n                                onChange={this.handleChangeDeadline}\n                            />  \n                    </Grid.Column>\n                    </Grid>\n                </FormField>\n            </Segment>\n        )\n    }\n\n    onTagsChanged(tags) {\n        this.setState({tags: tags || []})\n    }\n\n    addTagOptions(e,data) {\n        const tagOptions = this.state.tagOptions\n        tagOptions.push({key: data.value, text: data.value, value: data.value})\n        console.log(tagOptions)\n        this.setState({tagOptions:tagOptions})\n    }\n\n    setTag(data) {\n        this.onTagsChanged(data.value)\n    }\n\n    renderTag() {\n        return(\n            <FormField>\n                <label>Add Tags</label>\n                <Dropdown placeholder=\"add goal tags here. You should add a tag in order to add a goal\" search selection \n                    clearable multiple allowAdditions fluid \n                    onAddItem={(e,data) => this.addTagOptions(e, data)} \n                    onChange={(e,data)=>this.setTag(data)}\n                    options={this.state.tagOptions}\n                    className=\"GoalDropDown\"\n                />\n            </FormField>\n        )\n    }\n\n\n    onClickHandler() {\n        // e.preventDefault()\n        // console.log(this.state.tags)\n        let data = new FormData()\n        data.append(\"title\", this.state.title)\n        let start_at = moment(this.state.start_at).startOf('day').unix()\n        let deadline = moment(this.state.deadline).startOf('day').unix() + (24*60*60 - 1)\n        console.log(\"Modified deadline: \", moment.unix(start_at).format('MMMM Do YYYY, h:mm:ss a'))\n        data.append(\"start_at\", start_at)\n        data.append(\"deadline\", deadline)\n\n        // If you add more than one item to the same key, it makes a list.\n        for (const tag of this.state.tags) {\n            data.append(\"tags\", tag)\n        }\n        console.log(\"Create goal data.get('tags'): \", data.get('tags'))\n\n        this.props.addGoal(data, this.state.file)\n        this.setState({ isCreating: true })\n    }\n\n    // confirmHandler = () => {\n    //     formData = new FormData()\n    //     data.append(\"title\", this.state.file)\n    //     data.append()\n    //     data.append(\"tags\")\n    // }\n\n    // sendRequestTest() {\n    //     let data = new FormData()\n    //     data.append(\"title\", \"title\")\n    //     data.append('photo', this.state.file)\n    //     data.append(\"deadline\", \"2020-11-11 12:00:00\")\n    //     console.log(data.get('deadline'))\n\n    //     axios.post('/api/v1/goal/', data, {\n    //         headers: {\n    //             \"Content-Type\": \"multipart/form-data\",\n    //           },\n    //     })\n    //     .then((res) => console.log(res))\n    //     .catch((err) => console.log(err));\n    // }\n\n    render(){\n        return(\n            <div>\n            <div className='menubar'>\n                <MenuBar/>\n            </div>\n            <div style={\n                {\n                    marginLeft: '130px',\n                    marginTop: '50px',\n                    maxWidth: '700px',\n                    marginRight: '10%',\n                }\n            }>\n            <LoadingOverlay\n                className=\"spinner\"\n                active={this.state.isCreating}\n                spinner\n                text='Creating a new goal...'\n            >\n                <h2 id=\"header\">Add a Goal</h2>\n                <Form id=\"FormCreateForm\" className='FormCreate'>\n                    {this.renderTitle()}\n                    {this.renderPhoto()}\n                    {/* {this.fileRender()} */}\n                    {this.renderDeadline()}\n                    {this.renderTag()}\n                    <Button \n                        floated=\"right\"\n                        onClick={() => { history.push('/main') }}\n                    >\n                        Go Back\n                    </Button>\n                    <Button \n                        onClick={()=>this.onClickHandler()} \n                        // disabled={(this.state.tags.length == 0) ? true : false}\n                        floated=\"right\" className=\"GoalSubmitButton\"\n                    >\n                        Confirm\n                    </Button>\n                </Form>\n            </LoadingOverlay>\n            </div>\n            </div>\n        )\n    }\n\n}\n\n\n\nexport default connect(null, { addGoal })(withRouter(CreateGoal))","import React, { Component, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport LoadingOverlay from 'react-loading-overlay';\nimport { DateInput} from 'semantic-ui-calendar-react'\nimport { Form , Button, Input, Icon, Progress, Segment, FormField, Dropdown, label, Grid, Container} from 'semantic-ui-react'\n\nimport \"react-datepicker/dist/react-datepicker.css\"\n// import { isThisSecond } from 'date-fns';\nimport { editGoal } from '../../store/actions'\nimport './EditGoal.css'\n\n\nclass EditGoal extends Component {\n\n    state = {\n      title: \"\",\n      file: null,\n      fileName: \"\",\n      upload: false,\n      deadline: new Date(),\n      start_at: new Date(),\n      tags: [],\n      tagOptions:[],\n      isEditing: false,\n      preview: (this.props.selectedGoal.photo == null) ? 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png' : this.props.selectedGoal.photo\n    }\n\n    renderDefaultDate() {\n        const start_at = moment.unix(this.props.selectedGoal.start_at).format(\"YYYY-MM-DD\")\n        const deadline = moment.unix(this.props.selectedGoal.deadline).format(\"YYYY-MM-DD\")\n        this.setState({start_at: start_at, deadline: deadline})\n    }\n\n    renderDefaultTagOptions() {\n        console.log(\"CALLED\")\n        const defaultTagOptions = []\n        const defaultTag = []\n        this.props.selectedGoal.tags.map((t)=>{\n            defaultTagOptions.push({key: t, text: t, value: t})\n            defaultTag.push(t)\n        })\n        this.setState({tagOptions: defaultTagOptions, tags: defaultTag})\n        console.log(\"[DEBUG] tagOptions\", this.state.tagOptions)\n        console.log(\"[DEBUG] tags\", this.state.tags)\n    }\n\n\n    componentWillMount() {\n        this.renderDefaultTagOptions()\n        // this.setState({title: this.props.selectedGoal.title})\n        // this.renderDefaultDate()\n    }\n\n    componentDidMount() {\n        this.setState({title: this.props.selectedGoal.title})\n        this.renderDefaultDate()\n    }\n\n    fileChange = e => {\n        if(e.target.files){\n        this.setState(\n          { file: e.target.files[0], fileName: e.target.files[0].name, upload: true},\n          () => { console.log( \"File chosen --->\", this.state.file, console.log(\"File name  --->\", this.state.fileName))},\n          )\n          this.setState({ preview:  URL.createObjectURL( e.target.files[0])});\n        }\n        else {\n        //    this.setState({file: default_goal_pic})\n        //    console.log(this.state.file)\n        //    const imageUrl = URL.createObjectURL(this.state.file)\n        //     console.log(imageUrl)\n        }\n        \n    }\n\n    renderTitle() {\n        return (\n            <Form.Field>\n                <label>Goal Title</label>\n                <Input placeholder='Enter Title Here' \n                defaultValue={this.props.selectedGoal.title}\n                onChange={(e)=>this.setState({title: e.target.value})}\n                id=\"EditGoalFormTitle\"\n                ></Input>\n            </Form.Field>\n        )\n    }\n\n    renderPhoto() {\n        const { statusCode } = this.state;\n        return (\n            <Segment>\n                <Grid columns='2'>\n                    <Grid.Column width=\"11\">\n                        <Form.Field\n                        style={\n                            {\n                                marginTop: '20px'\n                            }\n                        }>\n                            <label id=\"PhotoInput\">Add Goal Photo</label>\n                            <Button as=\"label\" htmlFor=\"file\" type=\"button\" animated=\"fade\">\n                            <Button.Content visible>\n                                <Icon name=\"file\" />\n                            </Button.Content>\n                            <Button.Content hidden>Choose a File</Button.Content>\n                            </Button>\n                            <input type=\"file\" id=\"file\" className=\"EditGoalPhoto\" hidden onChange={this.fileChange}/>\n                            <Form.Input fluid label=\"Photo Chosen \" placeholder=\"Upload to edit goal photo\" readOnly\n                            value={this.state.fileName}\n                            />\n                            {/* <Button style={{ marginTop: \"7px\" }} onClick={this.fileChange} id=\"UploadPhotoButton\"> Upload </Button> */}\n                        </Form.Field>\n                    </Grid.Column>\n                    <Grid.Column width=\"5\">\n                        {this.fileRender()}\n                    </Grid.Column>\n                </Grid>\n          </Segment>\n        )\n    }\n\n    fileRender() {\n        return(\n                    <Segment style={\n                        {\n                            boxShadow: 'none',\n                            alignItems: 'center'\n                            \n                        }\n                    }\n                    textAlign='center'>\n                    <img id=\"image\" src={this.state.preview} style={\n                        {\n                            maxWidth: '150px', \n                            maxHeight: '180px',\n                            minWidth: '150px',\n                            minHeight: '150px',                      \n                        }\n                    }></img>\n                    </Segment>\n        )\n    }\n\n    // selectDeadline(date) {\n    //     this.setState({deadline:date})\n    // }\n\n    // formatDate(d) {\n    //     // console.log(date.toString('MM/dd/yyyy'))\n    //     var curr_date = d.getDate();\n    //     var curr_month = d.getMonth() + 1; //Months are zero based\n    //     var curr_year = d.getFullYear();\n    //     return curr_month + \"/\" + curr_date + \"/\" + curr_year\n    // }\n\n    handleChangeStart = (event, {name, value}) => {\n        this.setState({ [name]: value });\n     }\n\n   handleChangeDeadline = (event, {name, value}) => {\n       this.setState({ [name]: value });\n    }\n\n   renderDeadline() {\n       return(\n           <Segment>\n               <FormField>\n                   {/* <label>Select Goal Deadline</label> */}\n                   <Grid columns='two' textAlign='center' className=\"DeadlineGrid\">\n                   <Grid.Column width={5}>\n                   {/* <Input id=\"todayDate\" style={{ width: \"175px\" }} readOnly value={this.formatDate(this.state.startdate)}></Input> */}\n                   <DateInput\n                               id=\"GoalFormStart\"\n                               label='Starting From'\n                               name=\"start_at\"\n                               placeholder=\"Date\"\n                               value={moment(this.state.start_at).format('YYYY-MM-DD')}\n                               iconPosition=\"left\"\n                               dateFormat=\"YYYY-MM-DD\"\n                               onChange={this.handleChangeStart}\n                           />  \n                   </Grid.Column >\n                   {/* <Grid.Column width={1}><Container><h5>to</h5></Container></Grid.Column> */}\n                   <Grid.Column  width={5}>\n                   {/* <DatePicker style={{ width: \"150px\" }} dateformat={\"YYYY-MM-DD\"} selected={this.state.deadline} onChange={(date)=>{this.selectDeadline(date)}} /> */}\n                   <DateInput\n                               id=\"GoalFormDeadline\"\n                               label='Deadline'\n                               name=\"deadline\"\n                               placeholder=\"Date\"\n                               value={moment(this.state.deadline).format('YYYY-MM-DD')}\n                               iconPosition=\"left\"\n                               dateFormat=\"YYYY-MM-DD\"\n                               onChange={this.handleChangeDeadline}\n                           />  \n                   </Grid.Column>\n                   </Grid>\n               </FormField>\n           </Segment>\n       )\n   }\n\n   onTagsChanged(tags) {\n       this.setState({tags: tags})\n   }\n\n   addTagOptions(e,data) {\n       const tagOptions = this.state.tagOptions\n       tagOptions.push({key: data.value, text: data.value, value: data.value})\n       console.log(tagOptions)\n       this.setState({tagOptions:tagOptions})\n   }\n\n   setTag(data) {\n       this.onTagsChanged(data.value)\n   }\n\n   renderTag() {\n       return(\n           <FormField>\n               <label>Add Tags</label>\n               <Dropdown placeholder=\"add goal tags here\" search selection \n                   clearable multiple allowAdditions fluid \n                   onAddItem={(e,data) => this.addTagOptions(e, data)} \n                   onChange={(e,data)=>this.setTag(data)}\n                   options={this.state.tagOptions}\n                   className=\"GoalDropDown\"\n               />\n           </FormField>\n       )\n   }\n\n    onTagsChanged(tags) {\n        console.log(\"tag changing\")\n        this.setState({tags: tags})\n        console.log(this.state.tags)\n    }\n\n    addTagOptions(e,data) {\n        const tagOptions = this.state.tagOptions\n        tagOptions.push({key: data.value, text: data.value, value: data.value})\n        this.setState({tagOptions:tagOptions})\n    }\n\n    setTag(data) {\n        console.log(\"DEBUG: data change\", data.value)\n        this.onTagsChanged(data.value)\n    }\n\n    renderTag() {\n        return(\n            <FormField>\n                <label>Add Tags</label>\n                <Dropdown search selection \n                    clearable multiple allowAdditions fluid \n                    defaultValue={this.state.tags}\n                    onAddItem={(e,data) => this.addTagOptions(e, data)} \n                    onChange={(e,data)=>this.onTagsChanged(data.value)}\n                    options={this.state.tagOptions}\n                />\n            </FormField>\n        )\n    }\n\n\n    onClickHandler = () => {\n        // e.preventDefault()\n        let data = {}\n        console.log(\"EditGoalComponent this.state.title: \", this.state.title)\n        console.log(\"EditGoalComponent this.props.selectedGoal.photo: \", this.props.selectedGoal.photo)\n\n        data['title'] = this.state.title\n        // data.append(\"title\", this.state.title)\n        let start_at = moment(this.state.start_at).startOf('day').unix()\n        let deadline = moment(this.state.deadline).startOf('day').unix() + (24*60*60 - 1)\n        // console.log(\"Modified deadline: \", moment.unix(deadline).format('MMMM Do YYYY, h:mm:ss a'))\n        data['start_at'] = start_at\n        data['deadline'] = deadline\n        // data.append(\"deadline\", deadline)\n        // console.log(\"DEBUG: this state tags\", this.state.tags)\n        data['tags'] = this.state.tags\n        // for (const tag of this.state.tags) {\n        //     data.append(\"tags\", tag)\n        // }\n\n        // let key = ''\n        if (this.props.selectedGoal.photo) { // A user already has a photo\n            data['photo'] = this.props.selectedGoal.photo\n            // console.log(\"[DEBUG] this.props.selectedGoal.photo: \", this.props.selectedGoal.photo)\n        } \n        // console.log(\"[DEBUG] EditGoalComponent key: \", key)\n        console.log(\"[DEBUG] EditGoalComponent formData: \", data)\n    // const data = {\n    //     title: formData.get('title'),\n    //     photo: formData.get('photo'),\n    //     deadline: formData.get('deadline'),\n    //     tags: formData.get('tags')\n    // }\n\n        this.props.editGoal(this.props.selectedGoal.id, data, this.state.file)\n\n        this.setState({ isEditing: true })\n    }\n\n    render(){\n        console.log(\"selected goal: \", this.props.selectedGoal)\n        return(\n            <div className=\"EditGoalForm\">\n                {/* {this.props.selectedGoal == null} */}\n            <LoadingOverlay\n                active={this.state.isEditing}\n                spinner\n                text='Editing a new goal...'\n            >\n            {/* <div className='menubar'>\n                <MenuBar/>\n            </div> */}\n            <div>\n                <Form className=\"EditGoalForm\">\n                {this.renderTitle()}\n                {this.renderPhoto()}\n                {this.renderDeadline()}\n                {this.renderTag()}\n                {/* <Button floated=\"right\">Go Back</Button>\n                <Button onClick={()=>this.onClickHandler()} floated=\"right\">Confirm</Button> */}\n                <Button floated=\"right\">Go Back</Button>\n                <Button onClick={this.onClickHandler} floated=\"right\" className=\"ConfirmButton\" id=\"ConfirmButtonEditGoalForm\">Confirm</Button>\n                </Form>\n            </div>\n            </LoadingOverlay>\n            </div>\n        )\n    }\n\n}\n\nexport default connect(null, { editGoal })(EditGoal)\n","import React, {Component} from 'react'\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Container, GridColumn, Form} from 'semantic-ui-react'\nimport './TaskBody.css'\nimport { connect } from 'react-redux'\nimport Axios from 'axios'\n// import {} from '../../store/actions/index'\nimport moment from 'moment'\nimport Rating from '@material-ui/lab/Rating'\nimport { DateInput,} from 'semantic-ui-calendar-react'\n\nimport { editTask, deleteTask } from '../../store/actions'\n\nclass TaskBodyComponent extends Component {\n    // props have goal id, title, deadline, and tags\n    // the tasks here are originally from backend\n    // TODO: connect with redux\n\n    state = {\n        editmode: false,\n        readmode: true,\n        title: this.props.task.title,\n        importance: this.props.task.importance,\n        day_of_week: this.props.task.day_of_week,\n        start_at: this.props.task.start_at,\n        deadline: this.props.task.deadline\n    }\n\n    onClickEditTaskHandler = () => {\n       const neweditmode = !(this.state.editmode)\n       const newreadmode = !(this.state.readmode)\n       this.setState({editmode: neweditmode, readmode: newreadmode})\n    }\n\n    onClickDeleteTaskHandler = () => {\n        // TODO\n        const task_id = this.props.task.id\n        const goal_id = this.props.task.goal_id\n        this.props.deleteTask(goal_id, task_id);\n    }\n\n    // deadline is a timestamp\n    deadlineDate = (deadline) => {\n        return moment.unix(deadline).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    startAtDate = (start_at) => {\n        return moment.unix(start_at).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    renderDeadlineString = (day_of_week, start_at, deadline) => {\n        let str = \"From \"\n        str = str +  this.startAtDate(start_at) + \", Until \" + this.deadlineDate(deadline)\n        if(day_of_week.length !== 0) {\n            var daystr = \"On every \"\n            for (var d of day_of_week) {\n                d = d.toLowerCase()\n                d = d.charAt(0).toUpperCase() + d.slice(1);\n                daystr = daystr + d + \",\"+ \" \"\n            }\n            daystr = daystr.slice(0, daystr.length-2)\n            return (\n            <div className=\"TaskBodyListDeadline\">{str}<br></br>{daystr}</div>\n            )\n        }\n        return (\n            <div className=\"TaskBodyListDeadline\">{str}</div>\n        )\n    }\n\n    // setDeadlineString = (string) => {\n    //     console.log(\"[DEBUG] dadline string: \", string)\n    //     const deadline = moment(string, 'YYYY-MM-DD').startOf('day').unix() + (24*60*60 - 1)\n    //     // setDeadline(deadline)\n    //     this.setState({deadline: deadline})\n    // }\n\n    onSubmit = e => { // e: event\n        // TODO: cannot call setState during render\n        // this.setState({editmode: false})\n        const data = {\n            title: this.state.title,\n            importance: this.state.importance,\n            day_of_week: this.state.day_of_week,\n            start_at: moment(this.state.start_at).unix()*1000,\n            deadline: moment(this.state.deadline).unix()*1000\n        }\n        console.log(\"Edit task data: \", data)\n\n        this.props.editTask(this.props.task.id, data)\n\n        const neweditmode = !(this.state.editmode)\n        const newreadmode = !(this.state.readmode)\n        this.setState({editmode: neweditmode, readmode: newreadmode})\n    }  \n    \n    closeHandler = () => {\n        const neweditmode = !(this.state.editmode)\n        const newreadmode = !(this.state.readmode)\n        this.setState({editmode: neweditmode, readmode: newreadmode})\n    }\n\n    // handleChange = (event, {name, value}) => {\n    //     if (this.state.hasOwnProperty(name)) {\n    //         console.log(moment(value))\n    //       this.setState({ [name]: value });\n    //     }\n    //   }\n\n    handleChangeStartAt = (event, { value }) => {\n        // this.props.goal_start_at is a timestamp\n        // value is in a \"YYYY-MM-DD\" format\n        if(moment(value) < moment.unix(this.props.goal_start_at)){\n            window.alert(\"task start date cannot be earlier than goal start date. Goal start date will be set.\")\n            this.setState({start_at: this.props.goal_start_at})\n        }\n        else {\n            this.setState({ start_at: moment(value).unix() })\n        }\n     }\n\n    handleChangeDeadline = (event, { value }) => {\n        if(moment(value) > moment.unix(this.props.goal_deadline)){\n            window.alert(\"Task deadline cannot be longer than goal deadline. Goal deadline will be set.\")\n            this.setState({ deadline: this.props.goal_deadline });\n        }\n        else {\n            this.setState({ deadline: moment(value).unix() });\n        }\n      }\n\n    renderEditMode = () => {\n        const options = [\n            { key: 'm', text: 'Monday', value: 'MONDAY' },\n            { key: 't', text: 'Tuesday', value: 'TUESDAY' },\n            { key: 'w', text: 'Wednesday', value: 'WEDNESDAY' },\n            { key: 'th', text: 'Thursday', value: 'THURSDAY' },\n            { key: 'f', text: 'Friday', value: 'FRIDAY' },\n            { key: 's', text: 'Saturday', value: 'SATURDAY' },\n            { key: 'su', text: 'Sunday', value: 'SUNDAY' },\n          ]\n\n        return (\n            <Form>\n            <Segment className=\"EditTaskForm\" id=\"EditTaskFormSegment\">\n            <h3>Edit: {this.state.title}</h3>\n                <Form.Group widths='equal'>\n                    <Form.Input label='Title' placeholder='Enter task title' \n                    onChange={(e,data)=> this.setState({title: data.value})} \n                    id=\"EditTaskFormTitle\"\n                    defaultValue={this.state.title}\n                    />\n                    </Form.Group>\n                        <Form.Group>\n                            <Form.Select\n                                multiple selection\n                                label='Day of Week'\n                                id=\"EditTaskFormDayofWeek\"\n                                options={options}\n                                defaultValue={this.props.task.day_of_week}\n                                onChange={(e,data)=>this.setState({day_of_week: data.value})}\n                                placeholder='Day of Week'\n                            />\n                            <DateInput\n                                label='Start At'\n                                id=\"EditTaskFormDeadline\"\n                                name=\"start_at\"\n                                placeholder=\"Date\"\n                                value={moment.unix(this.state.start_at).format('YYYY-MM-DD')}\n                                iconPosition=\"left\"\n                                dateFormat=\"YYYY-MM-DD\"\n                                onChange={this.handleChangeStartAt}\n                            />\n                            <DateInput\n                                label='Deadline'\n                                id=\"EditTaskFormDeadline\"\n                                name=\"deadline\"\n                                placeholder=\"Date\"\n                                value={moment.unix(this.state.deadline).format('YYYY-MM-DD')}\n                                iconPosition=\"left\"\n                                dateFormat=\"YYYY-MM-DD\"\n                                onChange={this.handleChangeDeadline}\n                            />\n                        </Form.Group>\n                    <Form.Group inline>\n                    <label>Importance</label>\n                        <Rating\n                            name=\"simple-controlled\"\n                            size=\"large\"\n                            id=\"EditTaskFormImportance\"\n                            value={this.state.importance}\n                            onChange={(event, newValue) => {\n                                this.setState({importance: newValue})\n                            }} \n                        />\n                    </Form.Group>\n                    <Button.Group>\n                        <Button className=\"EditTaskSubmitButton\" id=\"EditTaskSubmit\" onClick={this.onSubmit}>Submit</Button>\n                        <Button icon className=\"EditTaskCloseButton\" id=\"EditTaskClose\" onClick={this.closeHandler}><Icon name='x'/></Button>\n                    </Button.Group>\n                    {/* <Form.Button className=\"EditTaskSubmitButton\" onClick={this.onSubmit()}>Submit</Form.Button>                     */}\n                </Segment>\n        </Form>\n        )\n    }\n\n    renderReadMode = () => {\n        const { title, deadline, importance, day_of_week } = this.props.task\n        return (\n            <Segment className=\"TaskBodySegment\">\n            <List className=\"TaskBodyTitleList\">\n                <List.Item className=\"TaskBodyListItem\">\n                <Icon name='circle' className=\"TaskBodyListIcon\" size=\"small\"/>\n                    <List.Content className=\"TaskBodyListTitle\">\n                        <List.Header className=\"TaskBodyListTitleHeader\">    \n                            {this.state.title}\n                            <Rating className=\"TaskBodyListRating\"\n                                    name=\"simple-controlled\"\n                                    size=\"small\"\n                                    id=\"AddTaskFormImportance\"\n                                    value={this.state.importance}\n                                    readOnly\n                                />\n                        </List.Header>\n                            {this.renderDeadlineString(this.state.day_of_week, this.state.start_at, this.state.deadline)}\n                    </List.Content>\n                </List.Item>\n            </List>\n            <List.Item>\n                    <Button.Group className=\"DeleteTaskButtonGroupAnother\" floated=\"right\">\n                        {/* <Button icon id=\"DeleteButtonTaskBody\" \n                        style={\n                            {\n                                backgroundColor: \"#ffffff\",\n                                padding: '5px'\n                            }\n                        }\n                        onClick={()=>this.onClickDeleteTaskHandler()}><Icon name='delete'/>&nbsp;Delete</Button> */}\n                        <Button size=\"small\" icon id=\"EditButtonTaskBody\" onClick={()=>this.onClickEditTaskHandler()}\n                        style={\n                            {\n                                backgroundColor: \"#ffffff\",\n                                padding: '5px',\n                            }\n                        }\n                        ><Icon name='edit'/>&nbsp;Edit</Button>\n                    </Button.Group> \n            </List.Item>\n            <br></br>\n        </Segment>\n        )\n    }\n\n    render() {\n    return(\n        <> \n        {this.state.readmode && this.renderReadMode()}\n        {/* {this.renderReadMode()} */}\n        {this.state.editmode && this.renderEditMode()}\n        {/* {console.log(this.state.readmode, this.state.editmode)} */}\n        </>\n    )\n    }\n}\n\n\nexport default connect(null, { editTask, deleteTask })(TaskBodyComponent)","import React, {Component} from 'react'\nimport TaskBody from '../../components/TaskBody/TaskBodyComponent'\nclass EditTask extends Component {\n\n    render(){\n        let toTaskBody = []\n        toTaskBody = this.props.tasks.map(t => <TaskBody task={t} key={t.id} goal_start_at={this.props.goal_start_at} goal_deadline={this.props.goal_deadline}/>)\n\n        return (\n            <div className=\"EditTaskComp\">\n            {console.log(\"DEBUG: tasks info\", this.props.tasks)}\n            {toTaskBody}\n            </div>\n        )\n    }\n}\n\nexport default EditTask","import React, {Component} from 'react'\nimport MenuBar from '../../components/Menubar/MenuBarComponent'\nimport { withRouter } from 'react-router-dom'\nimport EditGoal from './EditGoalComponent'\nimport EditTask from './EditTaskComponent'\nimport { Button, Container } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport history from '../../history'\nimport './EditPage.css'\n\n\nclass EditPage extends Component {\n    state = {\n        editGoal: false\n    }\n\n    // returnIfNull = () => {\n    //     if(this.props.selectedGoal) {\n    //         history.push('/')\n    //     }\n    // }\n\n    render() {\n        return (\n            <div className=\"EditPage\">\n                {/* {this.returnIfNull} */}\n                <div className='menubar'>\n                    <MenuBar/>\n                </div>\n                <div className=\"EditGoalTaskTab\">\n                {/* <Container className=\"EditGoalTaskContainer\"> */}\n                    <Button.Group className=\"EditGoalTaskButtonGroup\">\n                        <Button className=\"EditTaskTabButton\" onClick={()=>this.setState({editGoal: false})}>Edit Tasks</Button>\n                        <Button className=\"EditGoalTabButton\" onClick={()=>this.setState({editGoal: true})}>Edit Goal</Button>\n                    </Button.Group>            \n                {/* </Container> */}\n                    {this.state.editGoal ? \n                    <>\n                    <h2>Edit a Goal</h2> \n                    <EditGoal selectedGoal={this.props.selectedGoal}/>\n                    </>\n                    : \n                    <>\n                    <h2>Edit Tasks</h2> \n                    {(this.props.selectedGoal) ? \"\" : history.push('/main')}\n                    {((this.props.selectedGoal !== null) && (this.props.selectedGoal.tasks).length > 0) ? <EditTask goal_start_at={this.props.selectedGoal.start_at} goal_deadline={this.props.selectedGoal.deadline} tasks={this.props.selectedGoal.tasks}/> : <h5>\"Please add tasks first!\"</h5>}\n                    </>}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    console.log(\"EditPageComponent selectedGoal: \", state.goal.selectedGoal)\n    return{\n        selectedGoal: state.goal.selectedGoal,\n        // taskList: state.task.tasks,\n    }\n}\n\nexport default connect(mapStateToProps, null) (EditPage)\n","import React, {Component} from 'react'\nimport { useState, useEffect } from 'react';\nimport ReactWordcloud from 'react-wordcloud';\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Container} from 'semantic-ui-react'\nimport './DashBoardPanel.css'\nimport {VictoryPie, VictoryTheme, VictoryLabel} from 'victory'\nimport SVG from 'react-inlinesvg'\n\nexport const DashBoardPanel = (props)  => {\n\n    const percentage = props.metric\n    const wantedMetric = [{ y: percentage }, { y: 100-percentage }]; // Data that we want to display\n    const defaultMetric = [{ y: 0 }, { y: 100 }, ]; \n\n    const [metric, setMetric] = useState(defaultMetric);\n\n    useEffect(() => {\n        setMetric(wantedMetric); // Setting the data that we want to display\n    }, []);\n\n    // const data = [\n    //     {text: \"test\" ,value: 210},\n    //     {text: \"test1\" ,value: 100},\n    //     {text: \"test2\" ,value: 90},\n    //     {text: \"test3\" ,value: 100},\n    //     {text: \"test4\" ,value: 60},\n    //     {text: \"test5\" ,value: 150},\n    //     {text: \"test6\" ,value: 170},\n    //     {text: \"test7\" ,value: 80},\n    //     {text: \"test8\" ,value: 210},\n    //     {text: \"test9\" ,value: 100},\n    //     {text: \"test10\" ,value: 90},\n    //     {text: \"test11\" ,value: 100},\n    //     {text: \"test12\" ,value: 60},\n\n    // ]\n    const cloud_options = {\n        rotations: 2,\n        rotationAngles: [-90, 0],\n        fontFamily: \"impact\",\n        fontSizes: [12, 38],\n        fontStyle: \"normal\",\n        fontWeight: \"normal\",\n        colors: [\n            \"#173f5f70\",\n            \"#20639b\",\t\n            \"#ed553b\",\t\n            \"#04837c\" ]\n    }\n\n    \n    const renderPie = () =>  {\n        return (\n        <svg viewBox=\"0 0 500 400\">\n            <VictoryPie\n            standalone={false}\n            animate={{ easing: 'exp' }}\n            labelComponent={<span/>}\n            width={500} height={400}\n            data={metric}\n            innerRadius={166}\n            colorScale={[\"#19B3A6\", \"#EEEEEE\" ]}\n            // style={{ labels: { fontSize: 20, fill: \"white\" } }}\n            />\n            <VictoryLabel\n            textAnchor=\"middle\"\n            style={{ fontSize: 50 }}\n            x={250} y={200}\n            text={percentage+\"%\"}\n            />\n        </svg>\n        )\n    }\n\n    return(\n        <div className=\"DashBoardPanel\">\n        {console.log(\"PANEL PROPS:  \", props)}\n            {/* <h2>Overall Info</h2> */}\n            <Grid className=\"DashBoardPanelGrid\">\n                <Grid.Row>\n                    <Segment\n                    style={\n                        {boxShadow: \"none\"}\n                        }>\n                        <h5>WordCloud of goal tags</h5>\n                        <ReactWordcloud \n                        className=\"wordCloud\" \n                        words={props.wordList} \n                        options={cloud_options}\n                        />                        \n                    </Segment>\n                </Grid.Row>\n                <Grid.Row className=\"goalsDoneRow\">\n                    <Segment className=\"goalsDoneSegment\"\n                    style={\n                        {boxShadow: \"none\"}\n                        }>\n                        <h5>Percentage of Finished Goals</h5>\n                        {renderPie()}\n                    </Segment>\n                </Grid.Row>\n                <Grid.Row>\n                    {/* {TBD} */}\n                </Grid.Row>\n            </Grid>\n        </div>\n    )\n    \n}\n","import React from \"react\";\nimport { Card, Icon, Button, Label } from \"semantic-ui-react\";\nimport moment from 'moment'\nimport { withRouter } from 'react-router-dom'\nimport history from '../../history'\nimport {getGoal, deleteGoal} from '../../store/actions/index'\nimport { connect } from \"react-redux\";\n\nclass GoalCard extends React.Component {\n\n  state = {\n    title: this.props.goal.title,\n    url: (this.props.goal.photo == null) ? 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png' : this.props.goal.photo\n  }\n\n  getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  renderTags = () => {\n    let label = []\n    label = this.props.goal.tags.map(t => {\n      const color = this.randomColor()\n    return (<Label horizontal style={\n      {marginTop: '2px', marginBottom: '2px', backgroundColor: color, color: '#FFFFFF'}\n    }>{t}</Label>)\n      }\n    )\n    return label\n  }\n  // BUG: randomColor func is generating undesired popups\n  randomColor = () => {\n    let randomNumber = this.getRandomInt(0, 5)\n    switch(randomNumber) {\n      case(0):\n        return \"#24b4ab\"\n      case(1):\n        return \"#173f5f\"\n      case(2):\n        return \"#686566\"\n      case(3):\n        return \"#20639b\"\n      case(4):\n        return \"#ed553b\"\n      case(5):\n        return \"#04837c\"\n    } \n  }\n\n  onClickHandler = () => {\n    history.push('/goalhistory/' + this.props.goal.id)\n  }\n\n  onClickEditGoalHandler = async () => {\n    await this.props.getGoal(this.props.goal.id)\n    history.push('/edit')\n  }\n\n  onClickDeleteHandler = () => {\n      var deleteGoal = window.confirm(\"Tasks and achievements of this goal will be lost. Are you sure?\")\n      if(deleteGoal) {\n        this.props.deleteGoal(this.props.goal.id)\n      }\n  }\n\n  render() {\n    \n    const url = 'url(' + this.state.url + ')'\n    return (\n      <Card className=\"DashGoalCardComp\"\n      style={{\n        width: '200px'\n      }}\n      >\n        <Card.Content\n          style={{\n            height: \"180px\",\n            backgroundImage: url,\n            backgroundSize: \"cover\",\n          }}\n        >\n        <Card.Description>\n        {this.renderTags()}\n          </Card.Description>\n        </Card.Content>\n        <Card.Content header={this.props.goal.title} \n            textAlign=\"center\"s\n            style={\n              {padding: '12px'}\n            }\n            > \n        </Card.Content>\n        <Card.Description textAlign=\"center\"\n        style={\n          {color: \"#807e7e\", marginBottom: '2px'}\n        }>\n              From {moment.unix(this.props.goal.start_at).format('MMM Do YYYY')} <br></br> Until {moment.unix(this.props.goal.deadline).format('MMM Do YYYY')}\n            </Card.Description>\n        <Card.Content extra>\n          <Button.Group size='tiny'>\n          <Button onClick={this.onClickHandler}>\n            Click for Details\n          </Button>\n          <Button size=\"tiny\" compact icon className=\"DashEditGoal\"  onClick={()=>this.onClickEditGoalHandler()}><Icon name='edit'/></Button>\n          <Button size=\"tiny\" compact icon className=\"DashDeleteGoal\" onClick={()=>this.onClickDeleteHandler()}><Icon name='trash'/></Button>\n          </Button.Group>\n        </Card.Content>\n      </Card>\n    );\n  }\n}\n\nexport default connect(null, {getGoal, deleteGoal})(withRouter(GoalCard))","import React, {Component} from 'react'\nimport { useState, useEffect } from 'react'\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Dropdown, Card} from 'semantic-ui-react'\nimport './DashBoardCards.css'\nimport GoalCard from '../../../components/DashBoardGoalCards/DashBoardGoalCard'\nimport { useSelector, useDispatch } from 'react-redux';\nimport history from '../../../history';\nimport moment from 'moment'\n\nclass DashBoardCards extends Component{\n\n    // console.log(props.goalCardList)\n    state = {\n        select: 0,\n        show: 0,\n        max: (this.props.goalCardList.length)/6,\n        showOptions: [\n            { key: 1, text: 'Show All', value: 1 },\n            { key: 2, text: 'Ongoing', value: 2 },\n            { key: 3, text: 'Finished', value: 3 },\n            { key: 4, text: 'Future', value: 4 },\n        ]\n\n    }\n\n    // goalCardList = goalCardList.map(g => <GoalCard goal={g}/>)\n    \n    renderShowbyTime = (value) =>{\n        const today = moment(new Date).startOf('day').unix()\n        let list = []\n        switch(value) {\n            case(1):\n                return this.props.goalCardList.map(g => <GoalCard goal={g}/>)\n            case(2):\n                list = this.props.goalCardList.reduce((pre, g) => {\n                    if((g.start_at <= today) && (g.deadline >= today)) {\n                        pre.push(g)\n                    }\n                    return pre\n                }, [])\n                return list.map(g => <GoalCard goal={g}/>)\n            case(3):\n                list = this.props.goalCardList.reduce((pre, g) => {\n                    if(g.deadline < today) {\n                        pre.push(g)\n                    }\n                    return pre\n                }, [])\n                return list.map(g => <GoalCard goal={g}/>)\n            case(4):\n                list = this.props.goalCardList.reduce((pre, g) => {\n                    if(g.start_at > today) {\n                        pre.push(g)\n                    }\n                    return pre\n                }, [])\n                return list.map(g => <GoalCard goal={g}/>)\n            default:\n                return this.props.goalCardList.map(g => <GoalCard goal={g}/>)\n        }\n    }\n\n    // range select by clicking buttons\n    renderSelect = () => {\n        let start = (this.state.select*6)\n        let selectedList = this.renderShowbyTime(this.state.show)\n        return (\n            selectedList.slice(start, start+6)\n        )\n    }\n\n    prevHandler = () => {\n       this.setState({select: (this.state.select-1)})\n    }\n\n    nextHandler = () => {\n        this.setState({select: (this.state.select+1)})\n    } \n\n    render() {\n    return (\n        <div className=\"DashBoardGoalCards\">\n            <h2\n            style={\n                { paddingTop: '5px' }\n            }\n            >Your Goals</h2>        \n\n                <Dropdown placeholder='Filter by' search selection options={this.state.showOptions} onChange={(e,data)=>this.setState({show: data.value})}\n                style = {{border: 'none', marginRight: '20px', marginLeft: '5px'}}\n                />\n\n                <Button.Group>\n                <Button size=\"tiny\" disabled={this.state.select == 0 ? true : false} onClick={() => this.prevHandler()} icon='angle left' className=\"dashcardprev\">\n                </Button>\n                <Button size=\"tiny\" disabled={this.state.select == (Math.floor(this.state.max)) ? true : false} onClick={() => this.nextHandler()} icon='angle right' className=\"dashcardnext\"></Button>\n                {/* {console.log(\"DEBUG: next and max\", select, Math.floor(max))} */}\n            </Button.Group>\n            <Segment\n            style={\n                {boxShadow: \"none\", border: 'none'}\n                }>\n                <Card.Group>\n                    {this.renderSelect()}\n                </Card.Group>\n            </Segment>\n        </div>\n    )\n            }\n}\n\nexport default DashBoardCards","import React, {Component} from 'react'\nimport { Grid, GridColumn } from 'semantic-ui-react'\nimport MenuBar from '../../components/Menubar/MenuBarComponent'\nimport './DashBoard.css'\nimport {DashBoardPanel} from './DashBoardPanel/DashBoardPanelComponent'\nimport DashBoardCards from './DashBoardCards/DashBoardCardsComponent'\nimport { connect } from 'react-redux'\nimport { getAllGoal } from '../../store/actions/index'\nimport moment from 'moment'\nclass DashBoardComponent extends Component {\n\n    componentDidMount() {\n        // console.log(\"mounting dashboard page\")\n        this.props.getAllGoal()\n    }\n\n    getMetric = () => {\n        if(this.props.goals.length == 0) return 0\n        const today = moment(new Date).startOf('day').unix()\n        let list = this.props.goals.reduce((pre, g) => {\n            if(g.deadline < today) {\n                pre.push(g)\n            }\n            return pre\n        }, [])\n        return (Math.floor( (list.length * 100 ) / (this.props.goals.length) ))\n    }\n\n    // get wordcloud list \n    getWordCloud = () => {\n        let wordList = []\n        for(var goal of this.props.goals){\n            for(var tag of goal.tags) {\n                let obj = wordList.find(w => w.text == tag)\n                if(obj == undefined) {\n                    // add new\n                    wordList.push({text: tag, value: 10})\n                }\n                // already exist, just add 1\n                else {\n                    obj.value += 10\n                }\n            }\n        }\n        console.log(\"wordlist\", wordList)\n        return wordList\n    }\n\n    render(){\n        return(\n            <div className='dashboard'>\n                <div className='menubar'>\n                    <MenuBar/>\n                </div>\n                <Grid columns='2' divided >\n                    <GridColumn className=\"dashboardGrid\">\n                        {/* <h2 className=\"dashboardTitle\">Your Dashboard</h2> */}\n                        <DashBoardPanel metric={this.getMetric()} wordList={this.getWordCloud()}/>\n                    </GridColumn>\n                    <GridColumn>\n                        <DashBoardCards goalCardList={this.props.goals}/>\n                    </GridColumn>\n                </Grid>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    // console.log(\"dahboard all goals:\", state.goal.goals)\n    return{\n        goals: state.goal.goals\n    }\n}\n\nexport default connect(mapStateToProps, {getAllGoal}) (DashBoardComponent)","import React, {Component} from 'react'\nimport { Container, Segment, Grid, Label, List, Icon } from 'semantic-ui-react'\nimport './GeneralGoalInfo.css'\nimport moment from 'moment'\nclass GeneralGoalInfo extends Component {\n\n//Things to put in render: title / goal duration / tags / \n\n    // start_at is a timestamp\n    startAtDate = (start_at) => {\n        return moment.unix(start_at).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    // deadline is a timestamp\n    deadlineDate = (deadline) => {\n        return moment.unix(deadline).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    renderTags = () => {\n        let label = []\n        label = this.props.selectedGoal.tags.map(t => {\n          const color = this.randomColor()\n        return (\n            <List.Item>\n        <Label horizontal style={\n          { marginBottom: '2px', backgroundColor: color, color: '#FFFFFF'}\n        }>{t}</Label></List.Item>\n        )\n          }\n        )\n        return label\n    }\n\n    getRandomInt = (min, max) => {\n        min = Math.ceil(min)\n        max = Math.floor(max)\n        return Math.floor(Math.random() * (max - min + 1)) + min\n    }\n    \n    randomColor = () => {\n        let randomNumber = this.getRandomInt(0, 5)\n        switch(randomNumber) {\n          case(0):\n            return \"#24b4ab\"\n          case(1):\n            return \"#173f5f\"\n          case(2):\n            return \"#686566\"\n          case(3):\n            return \"#20639b\"\n          case(4):\n            return \"#ed553b\"\n          case(5):\n            return \"#04837c\"\n        } \n      }\n\n    render() {\n        return(\n            <div className=\"GeneralGoalInfoPanel\">\n                <Segment style={\n                    {boxShadow: \"none\"}\n                    }>\n                    <Grid row='2'>\n                        <Grid.Row>\n                <h2 className=\"GeneralGoalInfoTitle\">{this.props.selectedGoal.title}</h2>\n                        </Grid.Row>\n                        <Grid.Row className=\"GeneralGoalInfoSub\">\n                            <Grid.Column width=\"5\">\n                                <p style ={\n                                    { color: \"#807e7e\"}\n                                }>From {this.startAtDate(this.props.selectedGoal.start_at)}, Until {this.deadlineDate(this.props.selectedGoal.deadline)}</p>\n                            </Grid.Column>\n                                {this.renderTags()}\n                        </Grid.Row>\n                    </Grid>\n                </Segment>\n            </div>\n        )\n    }\n}\n\n\nexport default GeneralGoalInfo","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Button, Segment, List, Icon, Grid } from 'semantic-ui-react'\nimport Rating from '@material-ui/lab/Rating'\nimport moment from 'moment'\nimport './TaskInfo.css'\n\nexport const TaskInfo = (props) => {\n\n    const [select, setSelect] = useState(false)\n    // const dispatch = useDispatch()\n\n    const deadlineDate = (deadline) => {\n        return moment.unix(deadline).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    const startAtDate = (start_at) => {\n        return moment.unix(start_at).format('MMM Do YYYY')\n        // return moment.unix(deadline).format('LL')\n    }\n\n    const renderDeadlineString = (day_of_week, start_at, deadline) => {\n        let str = \"From \"\n        str = str +  startAtDate(start_at) + \", Until \" + deadlineDate(deadline)\n        if(day_of_week.length !== 0) {\n            var daystr = \"On every \"\n            for (var d of day_of_week) {\n                d = d.toLowerCase()\n                d = (d.charAt(0).toUpperCase() + d.slice(1)).slice(0,3)\n                daystr = daystr + d + \",\"+ \" \"\n            }\n            daystr = daystr.slice(0, daystr.length-2)\n            return (\n            <p style={\n                {fontSize: '14px', color: \"#807d7d\"}\n            }>\n                {str}<br></br>{daystr}\n            </p>\n            )\n        }\n        return (\n            <p style={\n                {fontSize: '13px', color: \"#807d7d\"}\n            }>{str}</p>\n        )\n    }\n\n   const onSelectTaskHandler = () => {\n        setSelect(true)\n        props.onSelect(props.task.id)\n   }\n\n    return (\n        <Segment\n            style={{boxShadow: \"none\", margin: '0px', border: 'none'}}\n            className=\"TaskInfo\"\n        >\n            <Grid columns='2'\n            style={\n                {padding: '4px'}\n            }\n            >\n                <Grid.Column width=\"2\"\n                style={\n                    {padding: '0px', alignItems: 'center'}\n                }>\n                    <Button icon style={\n                        {backgroundColor: '#FFFFFF'}\n                    }\n                    onClick={onSelectTaskHandler}\n                    >\n                    <Icon name='check circle outline' size=\"large\" style={\n                        {paddingTop: '11px', paddingLeft: '20px'}\n                    }\n                    // className={`TaskSelect${select && 'True'}`}\n                    >\n                    </Icon>\n                    </Button>\n                </Grid.Column>\n                <Grid.Column width=\"14\"\n                style={\n                    {padding: '4px'}\n                }>\n                    <List className=\"TaskInfoTitleList\">\n                        <List.Item className=\"TaskInfoListItem\">\n                            <List.Content className=\"TaskInfoListTitle\">\n                                <List.Header className=\"TaskInfoListTitleHeader\"\n                                style={\n                                    {fontSize: '16px', paddingBottom: '12px', paddingTop: '0px',}\n                                }\n                                >    \n                                    {props.task.title}&nbsp;&nbsp;&nbsp;\n                                    <Rating className=\"TaskInfoListRating\"\n                                            name=\"simple-controlled\"\n                                            size=\"small\"\n                                            id=\"AddTaskFormImportance\"\n                                            value={props.task.importance}\n                                            readOnly\n                                        />\n                                </List.Header>\n                                {renderDeadlineString(props.task.day_of_week, props.task.start_at, props.task.deadline)}\n                            </List.Content>\n                        </List.Item>\n                    </List>\n                </Grid.Column>\n            </Grid>\n        </Segment>\n    )\n}","import React, {Component} from 'react'\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Container} from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport './Ach.css'\nimport {VictoryPie, VictoryTheme, VictoryLabel} from 'victory'\nimport SVG from 'react-inlinesvg'\nimport Rating from '@material-ui/lab/Rating'\nimport moment from 'moment'\n\nexport const Ach = (props) => {\n    const percentage = props.achievement.percentage_complete\n    const dateString = moment.unix(props.achievement.written_at).format('MMM Do YYYY')\n    return(\n        <Segment className=\"AccContainer\" >\n            <h4>Your achievement on {dateString}</h4>\n            <br></br>\n            <Grid columns='2'className=\"AccGrid\" divided\n            style={\n                {marginLeft: '0px'}\n            }\n            >\n                <Grid.Column width={6} className=\"AccContainerPercentage\"\n                style={\n                    {paddingLeft: '2px'}\n                }>\n                    {/* \"percentage\" */}\n                    <svg viewBox=\"0 0 520 520\">\n                        <VictoryPie\n                        standalone={false}\n                        labelComponent={<span/>}\n                        width={520} height={520}\n                        data={[{'key': \"\", 'y': percentage}, {'key': \"\", 'y': (100-percentage)} ]}\n                        innerRadius={166}\n                        colorScale={[\"#19B3A6\", \"#EEEEEE\" ]}\n                        // style={{ labels: { fontSize: 20, fill: \"white\" } }}\n                        />\n                        <VictoryLabel\n                        textAnchor=\"middle\"\n                        style={{ fontSize: 50 }}\n                        x={260} y={260}\n                        text={percentage + \"%\"}\n                        />\n                    </svg>\n                    <p className=\"AccChartTitle\">percentage done</p>\n                </Grid.Column>\n                <Grid.Column width={10} className=\"AccContainerDetail\">\n                    {/* <AccCard/> */}\n                    <Grid columns='2'>\n                        <Grid.Column width='5'>\n                            <h5>See Photo Preview</h5>\n                        </Grid.Column>\n                        <Grid.Column width='10'\n                        style={\n                            {paddingLeft: '0px'}\n                        }\n                        >\n                        <img id=\"image\" src={props.achievement.photo} className=\"AccPreviewImage\"></img>\n                        </Grid.Column>\n                    </Grid>\n                </Grid.Column>\n                {/* <p>\"Example Description\"</p> */}\n            </Grid>\n            <div className=\"description\">\n                <Icon name='pencil alternate' style={{color: '#5F5F5F'}}/>{props.achievement.description}\n                {/* <p>Example Description</p> */}\n            </div>\n            <div className=\"description\">\n                <br></br>\n            </div>\n        </Segment>\n    ) \n}","import React from 'react'\nimport { Grid, Segment } from 'semantic-ui-react'\n\nexport const AchInfo = (props) =>{\n    let avg\n    if(props.number == 0) {\n        avg = 0\n    }\n    else avg = (props.total)/props.number\n    return (\n        <Segment \n            style ={{boxShadow: \"none\"}}\n            className=\"AchInfo\"\n        >\n            <Grid columns='2' divided>\n                <Grid.Column>\n                    <p style={\n                        {textAlign:'center', fontSize: \"30px\", fontWeight: \"lighter\"}\n                    }>{props.number}</p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total number of achievements\n                </Grid.Column>\n                <Grid.Column>\n                    <p style={\n                        {textAlign:'center', fontSize: \"30px\", fontWeight: \"lighter\"}\n                    }>{Math.floor(avg)}%</p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;average percentage complete\n                </Grid.Column>\n            </Grid>\n        </Segment>\n    )\n}","import React, {Component} from 'react'\nimport { Container, Segment, Grid, Label, Button } from 'semantic-ui-react'\nimport './TaskAndAchTotal.css'\nimport {TaskInfo} from './Components/TaskInfo'\nimport {Ach} from './Components/Ach'\nimport {AchInfo} from './Components/AchInfo'\n\nclass TaskAndAchTotal extends Component {\n\n    state = {\n        selectedTask: null,\n        achList: [],\n        startIndex: 0\n    }\n\n    onTaskSubmit = (id) => {\n        this.setState({selectedTask: id})\n    }\n\n    renderTaskInfo = () => {\n        let taskInfo = []\n        let originalTaskList = this.props.tasks\n        \n        originalTaskList.sort(function (a, b) { \n            return a.start_at < b.start_at ? -1 : a.start_at > b.start_at ? 1 : 0;  \n        })\n\n        taskInfo = originalTaskList.map(t => <TaskInfo task={t} onSelect={this.onTaskSubmit}   />)\n        if(taskInfo.length == 0) {\n            return <p style={{fontWeight: '600', fontSize: \"15px\"}}>&nbsp;&nbsp;No tasks added for this goal yet!</p>\n        }\n\n        return taskInfo\n    }\n \n    prevHandler = () => {\n        this.setState({startIndex: this.state.startIndex-1})\n    }\n \n    nextHandler = () => {\n        this.setState({startIndex: this.state.startIndex+1})\n    } \n    \n    renderAchTotal = () => {\n        if(this.state.selectedTask) {\n\n        // filter achList\n        console.log(this.props.achievements)\n        let achList\n        let total = 0\n        let originalAchList = this.props.achievements\n\n        originalAchList.sort(function (a, b) { \n            return a.written_at < b.written_at ? -1 : a.written_at > b.written_at ? 1 : 0;  \n        })\n\n        achList = originalAchList.reduce((list, a) => {\n            if(a.task == this.state.selectedTask) {\n                list.push(<Ach achievement={a}/>)\n                total = total + a.percentage_complete\n            }\n            return list\n        }, [])\n\n        return (\n            <div>\n                <p>&nbsp;ACHIEVEMENT INFO</p>\n                        <AchInfo number={achList.length} total={total}/>\n                        <br></br>\n                    <p>&nbsp;ACHIEVEMENT JOURNAL</p>\n                        {achList[this.state.startIndex]}\n                        <Button.Group floated=\"right\">\n                            <Button size=\"tiny\" icon='angle left'style={\n                                {backgroundColor: \"#FFFFFF\"}\n                            }\n                            className=\"DashPrevAch\"\n                            disabled={this.state.startIndex == 0 ? true : false}\n                            onClick={()=>this.prevHandler()}\n                            >\n                            </Button>\n                            <Button size=\"tiny\" icon='angle right'\n                            style={\n                                {backgroundColor: \"#FFFFFF\"}\n                            }\n                            className=\"DashNextAch\"\n                            disabled={this.state.startIndex == (achList.length-1) ? true : false}\n                            onClick={()=>this.nextHandler()}\n                            ></Button>\n                            {/* {console.log(\"DEBUG: next and max\", select, Math.floor(max))} */}\n                    </Button.Group>\n            </div>\n        )\n        }\n    else{\n        return(\n            <div>\n            <p>&nbsp;ACHIEVEMENT INFO</p>\n                    <p style={{fontWeight: '600', fontSize: \"15px\"}}>&nbsp;Select a task to see achievement info!</p>\n                <br></br>\n                <p>&nbsp;ACHIEVEMENT JOURNAL</p>\n                    <p style={{fontWeight: '600', fontSize: \"15px\"}}>&nbsp;Select a task to see achievement journals!</p>\n            </div>\n        )\n    }\n    }\n\n    render(){\n        console.log(this.state.selectedTask)\n        return(\n            <Segment className=\"TaskAndAchContainer\"\n            style={\n                {boxShadow: \"none\", border: \"none\"}\n                }\n                >\n                <Grid columns=\"2\" divided\n                    style={\n                        {minHeight: '700px', marginTop: '5px'}\n                    }>\n                    <Grid.Column\n                    style={\n                        {paddingTop: '0px', paddingLeft: '0px'\n                    }\n                    }\n                    width=\"7\"\n                    >\n                    <p>&nbsp;&nbsp;TASKS YOU'VE DONE</p>\n                    {this.renderTaskInfo()}\n                    </Grid.Column>\n\n                    <Grid.Column\n                    width=\"9\"\n                    style={\n                        {paddingTop: '0px',}\n                    }>\n                    {this.renderAchTotal()}\n                    </Grid.Column>\n                </Grid>\n            </Segment>\n        )\n    }\n}\n\nexport default TaskAndAchTotal","import React, {Component} from 'react'\nimport MenuBar from '../../components/Menubar/MenuBarComponent'\nimport { withRouter } from 'react-router-dom'\nimport { Button, Container } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport history from '../../history'\nimport GeneralGoalInfo from './Components/GeneralGoalInfo'\nimport TaskAndAchTotal from './TaskAndAchTotal';\nimport './GoalDetailPage.css'\nimport {getGoal, get_achievements_of_goal} from '../../store/actions'\n\nconst mapStateToProps = state => {\n    console.log(\"DETAIL selectedGoal: \", state.goal.selectedGoal)\n    return{\n        selectedGoal: state.goal.selectedGoal,\n        achievements: Object.values(state.achievement),\n        // taskList: state.task.tasks,\n    }\n}\n\nclass GoalDetailPage extends Component {\n\n\n    componentDidMount() {\n        console.log(\"mounting\")\n        this.props.getGoal(this.props.match.params.id)\n        this.props.get_achievements_of_goal(this.props.match.params.id)\n    }\n\n    render() {\n        {console.log(this.props.achievements)}\n        return (\n            <div className=\"GoalDetailPage\">\n                <div className='menubar'>\n                    <MenuBar/>\n                </div>\n                {(this.props.selectedGoal !== null)&&<GeneralGoalInfo selectedGoal={this.props.selectedGoal}/>}\n                {(this.props.selectedGoal !== null)&&<TaskAndAchTotal tasks={this.props.selectedGoal.tasks} achievements={this.props.achievements}/>}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps, {getGoal, get_achievements_of_goal}) (withRouter(GoalDetailPage))\n","import React from \"react\";\nimport { Card, Icon, Button, Label, Image } from \"semantic-ui-react\";\nimport moment from 'moment'\n// import { withRouter } from 'react-router-dom'\nimport history from '../../../history'\nclass RecCard extends React.Component {\n\n  state = {\n    title: this.props.goal.title,\n    url: (this.props.goal.photo == null) ? 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png' : this.props.goal.photo\n  }\n\n  getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  renderTags = () => {\n    let label = []\n    label = this.props.goal.tags.map(t => {\n      const color = this.randomColor()\n    return (<Label horizontal style={\n      {marginTop: '2px', marginBottom: '2px', backgroundColor: color, color: '#FFFFFF'}\n    }>{t}</Label>)\n      }\n    )\n    return label\n  }\n\n  randomColor = () => {\n    let randomNumber = this.getRandomInt(0, 5)\n    switch(randomNumber) {\n      case(0):\n        return \"#24b4ab\"\n      case(1):\n        return \"#173f5f\"\n      case(2):\n        return \"#686566\"\n      case(3):\n        return \"#20639b\"\n      case(4):\n        return \"#ed553b\"\n      case(5):\n        return \"#04837c\"\n    } \n  }\n\nonClickHandler = () => {\n    history.push('/explore/goalhistory/' + this.props.goal.id)\n  }\n\n  render() {\n    \n    const url = 'url(' + this.state.url + ')'\n    return (\n      <Card className=\"RecCardComp\" style={\n          {width: '190px'}\n      }>\n        <Card.Content\n          style={{\n            height: \"180px\",\n            backgroundImage: url,\n            backgroundSize: \"cover\",\n          }}\n        >\n        <Card.Description>\n        {this.renderTags()}\n          </Card.Description>\n        </Card.Content>\n        <Card.Content header={this.props.goal.title} \n            textAlign=\"center\"s\n            style={\n              {padding: '12px', paddingBottom: '0px'}\n            }\n            > \n        </Card.Content>\n        <Card.Description textAlign=\"center\"\n        style={\n          {color: \"#807e7e\", marginBottom: '5px'}\n        }>\n            <Icon name='user circle'></Icon>&nbsp;{this.props.goal.username}\n            </Card.Description>\n        <Card.Content extra>\n          <Button floated=\"right\" fluid onClick={this.onClickHandler}>\n            Look More\n          </Button>\n        </Card.Content>\n      </Card>\n    );\n  }\n}\n\nexport default RecCard","import React, {Component} from 'react'\nimport { useState, useEffect } from 'react'\nimport { Icon, Sidebar, Menu, Grid, List, Segment, Button, Container, Card} from 'semantic-ui-react'\nimport RecCard from '../explore/components/RecCard'\nimport { useSelector, useDispatch } from 'react-redux';\n\nexport const RecCardsGroup = (props) => {\n\n    const [select, setSelect] = useState(0)\n    let RecCardList = props.goals.map(g => <RecCard goal={g}/>)\n\n    const renderSelect = () => {\n        return (\n            RecCardList.slice(0, (select*10)+10)\n        )\n    }\n\n    return (\n        <div className=\"RecGoalCards\"\n        style={\n            {   marginLeft: \"130px\",\n                width: '90%'\n            }\n        }>\n            <Segment\n            style={\n                {boxShadow: \"none\", border: 'none', display: 'flex'}\n                }>\n                <Card.Group>\n                {renderSelect()}\n                </Card.Group>\n            </Segment>\n            <Button style={\n                {marginLeft:'10px'}\n            }\n            className=\"ExpShowMore\"\n            disabled={(select > 0) ? true : false}\n            onClick={()=>{setSelect(select+1)}}\n            >Click for more recommendations!</Button>\n            <Button style={\n                {marginLeft:'10px'}\n            }\n            className=\"ExpShowLess\"\n            disabled={(select > 0) ? false : true}\n            onClick={()=>{setSelect(select-1)}}\n            >Hide recommendations</Button>\n        </div>\n    )\n}\n","import React, {Component} from 'react'\nimport { Grid, GridColumn } from 'semantic-ui-react'\nimport MenuBar from '../../components/Menubar/MenuBarComponent'\nimport { RecCardsGroup } from './RecCardsGroup'\nimport { explore_getAllGoal } from '../../store/actions'\nimport { connect } from 'react-redux'\n\nclass ExplorePage extends Component {\n\n    componentDidMount() {\n        console.log(\"mounting explore page\")\n        this.props.explore_getAllGoal()\n    }\n\n    render(){\n        return(\n            <div className='dashboard'>\n                <div className='menubar'>\n                    <MenuBar/>\n                </div>\n                <h3 style={\n                    {\n                        paddingLeft: \"138px\",\n                        paddingTop: \"7px\",\n                        marginTop: '15px',\n                        paddingBottom: \"10px\",\n                        fontSize: \"30px\",\n                        // borderBottom: '1px solid',\n                    }\n                }>\n                    Explore new goals\n                </h3>\n                <RecCardsGroup goals={this.props.goals}/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    console.log(\"EXPLORE all goals:\", state.explore.goals)\n    return{\n        goals: state.explore.goals\n    }\n}\n\nexport default connect(mapStateToProps, {explore_getAllGoal}) (ExplorePage)","import React, {Component} from 'react'\nimport MenuBar from '../../components/Menubar/MenuBarComponent'\nimport { Button, Container } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\n// import history from '../../history'\nimport {explore_getGoal, explore_get_ach_by_goal} from '../../store/actions/index'\nimport TaskAndAchTotal from '../GoalDetail/TaskAndAchTotal'\nimport GeneralGoalInfo from '../GoalDetail/Components/GeneralGoalInfo'\n\nclass ExploreGoalDetailPage extends Component {\n\n\n    componentDidMount() {\n        // console.log(\"mounting explore detail\")\n        this.props.explore_getGoal(this.props.match.params.id)\n        this.props.explore_get_ach_by_goal(this.props.match.params.id)\n    }\n\n    render() {\n        // debugger\n        // {console.log(this.props.selectedGoal)}\n        return (\n            <div className=\"ExploreGoalDetailPage\" style={\n                {\n                    width: '80%',\n                    marginLeft: '125px',\n                    maxWidth: '1190px'\n                }\n            }>\n                <div className='menubar'>\n                    <MenuBar/>\n                </div>\n                {(this.props.selectedGoal !== null)&&<GeneralGoalInfo selectedGoal={this.props.selectedGoal}/>}\n                {(this.props.selectedGoal !== null)&&<TaskAndAchTotal tasks={this.props.selectedGoal.tasks} achievements={this.props.achievements}/>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    // console.log(\"DETAIL EXPLORE selectedGoal: \", state.explore.selectedGoal)\n    return{\n        selectedGoal: state.explore.selectedGoal,\n        achievements: state.explore.achievements\n    }\n}\n\nexport default connect(mapStateToProps, {explore_getGoal, explore_get_ach_by_goal})(ExploreGoalDetailPage)\n","import React from 'react';\nimport { Router, Route, Redirect, Switch } from 'react-router-dom';\nimport axios from 'axios'\nimport './App.css'\nimport history from './history'\nimport HomePage from './pages/login/index'\nimport GoalList from './pages/main/GoalListComponent'\nimport CreatePage from './pages/main/CreateGoalComponent/CreateGoalComponent'\nimport EditPage from './pages/edit/EditPageComponent'\nimport DashBoard from './pages/dashboard/DashBoardComponent'\nimport GoalDetailPage from './pages/GoalDetail/GoalDetailPage'\nimport ExplorePage from './pages/explore/ExplorePageComponent'\nimport ExploreGoalDetailPage from './pages/ExploreGoalDetail/ExploreGoalDetailPage'\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\n\nfunction App(props) {\n    return (\n    <Router history={history}>\n        <div className=\"App\" id=\"fill-window\">\n            <Switch>\n                <Route path=\"/\" exact component={HomePage} />\n                <Route path=\"/create\" exact component={CreatePage}/>\n                <Route path=\"/edit\" exact component={EditPage}/>\n                <Route path=\"/main\" exact component={GoalList} />\n                <Route path=\"/dashboard\" exact component={DashBoard} />\n                <Route path=\"/explore\" exact component={ExplorePage} />\n                <Route path=\"/explore/goalhistory/:id\" exact component={ExploreGoalDetailPage} />\n                <Route path=\"/goalhistory/:id\" exact component={GoalDetailPage}/>\n                {/* <Route path=\"/profile\" exact component={Profile} /> */}\n            </Switch>\n        </div>\n    </Router>\n    )\n}\n\nexport default App","import * as actionTypes from '../actions/types'\n\nconst initialState = {\n    goals: [\n    ],\n    selectedGoal: null\n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        case actionTypes.GET_ALL_GOAL:\n            return {...state, goals: action.payload}\n\n        case actionTypes.GET_GOAL:\n            return {...state, selectedGoal: action.payload}\n\n        case actionTypes.ADD_GOAL:\n            const newGoal = action.payload\n            return {...state, goals: [...state.goals, newGoal]}\n\n        case actionTypes.EDIT_GOAL:\n            // remove the old item and add the new item\n            console.log(state.goals.filter(g => g.id !== action.payload.id))\n            let filteredGoals = state.goals.filter(g => g.id !== action.payload.id).concat([action.payload])\n            return {...state, selectedGoal: action.payload, goals: filteredGoals}\n            /*\n            const modifiedGoalList = state.goals.map((g)=> {\n                if(g.id == action.id) {\n                    return {...g, title: action.title, photo: action.photo, deadline: action.deadline, tags: action.tags}\n                } else {\n                    return g\n                }\n            })\n            state.goals = modifiedGoalList\n            const modified = modifiedGoalList.find(g=>g.id==action.id)\n            return {...state, selectedGoal: modified}\n            */\n\n        case actionTypes.EDIT_TASK_OF_SELECTED_GOAL:\n            const filteredTasks = state.selectedGoal.tasks.filter(task => task.id !== action.payload.id)\n            let modifiedSelectedGoal = {...state.selectedGoal, tasks: [...filteredTasks, action.payload]}\n            return {...state, selectedGoal: modifiedSelectedGoal}\n\n        case actionTypes.DELETE_GOAL:\n            // g.id and action.id should be both integer (the same type)\n            const deleted = state.goals.filter(g => g.id !== action.id)\n            return {...state, goals: deleted}\n\n        case actionTypes.ADD_TASK_TO_GOAL:\n            const target = state.goals.filter(goal => goal.id === action.payload.goal)[0]\n            const rest = state.goals.filter(goal => goal.id !== action.payload.goal)\n            return { ...state, goals: [...rest, {...target, tasks: [...target.tasks, action.payload]}]}\n\n        case actionTypes.DELETE_TASK_FROM_GOAL:\n            const target_delete = state.goals.filter(goal => goal.id === action.payload.goal_id)[0]\n            const target_deleted_task = target_delete.tasks.filter(t => t.id !== action.payload.task_id)\n            const updated_goal = {...target_delete, tasks: target_deleted_task}\n            const rest_delete = state.goals.filter(goal => goal.id !== action.payload.goal_id)\n            return { ...state, goals: [...rest_delete, updated_goal], selectedGoal: updated_goal}\n\n        default:\n            break\n    }\n    return state\n}\n\nexport default reducer","import * as actionTypes from '../actions/types'\n\nconst initialState = {\n    tasks: [\n    ],\n    selectedTask: null\n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        case actionTypes.GET_ALL_TASK:\n            return {...state, tasks: action.payload}\n        case actionTypes.ADD_TASK:\n            const newTask = action.payload\n            return {...state, tasks: [...state.tasks, newTask]}\n        case actionTypes.DELETE_TASK:\n            const deleted = state.tasks.filter(t => t.id !== action.payload)\n            return {...state, tasks: deleted}\n        case actionTypes.EDIT_TASK: {\n            const filtered = state.tasks.filter(task => task.id !== action.payload.id)\n            return { ...state, tasks: [...filtered, action.payload]}\n        }\n        // case actionTypes.EDIT_TASK_OF_ACHIEVEMENT: {\n        //     const filtered = state.tasks.filter(task => task.id !== action.payload.task)\n        //     const target = state.tasks.filter(task => task.id === action.payload.task)[0]\n        //     target.achievements.filter(achv => achv.id !== action.payload.id)\n        //     target.achievements.append(action.payload)\n        //     return { ...state, tasks: [...filtered, target]}\n        // }\n        default:\n            break\n    }\n    return state\n}\n\nexport default reducer","import _ from 'lodash';\nimport * as actionTypes from '../actions/types'\n\nconst reducer = (state = {}, action) => {\n    switch(action.type) {\n        case actionTypes.GET_ACHIEVEMENTS_OF_TASK:\n            return {...state, ..._.mapKeys(action.payload, 'id')}\n        case actionTypes.GET_ACHIEVEMENTS_OF_GOAL:\n            return {...state, ..._.mapKeys(action.payload, 'id')}\n        case actionTypes.ADD_ACHIEVEMENT:\n            return {...state, [action.payload.id]: action.payload}\n        case actionTypes.EDIT_ACHIEVEMENT:\n            return {...state, [action.payload.id]: action.payload};\n        case actionTypes.DELETE_ACHIEVEMENT:\n            return _.omit(state, action.payload);\n        default:\n            return state\n    }\n}\nexport default reducer\n\n/* \nWhen use state.achievement in a component, fetch it like below:\n\nconst mapStateToProps = state => {\n    return {\n        ...,\n        achievements: Object.values(state.achievement),\n    };\n};\n*/","import * as ActionTypes from '../actions/types'\n\nconst initialState = {\n    authModal: false,\n    addTask: false,\n    addAcc: false\n}\n\nconst modalReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ActionTypes.CLOSE_MODAL:\n            return { authModal: false, addTask: false, addAcc: false }\n        case ActionTypes.OPEN_AUTH_MODAL:\n            return { authModal: true }\n        case ActionTypes.OPEN_ADD_TASK_MODAL:\n            return {addTask: true}\n        case ActionTypes.CLOSE_ADD_TASK_MODAL:\n            return {addTask: false}\n        case ActionTypes.OPEN_ADD_ACC_MODAL:\n            return {addAcc: true}\n        case ActionTypes.CLOSE_ADD_ACC_MODAL:\n            return {addAcc: false}\n        default:\n            return state\n    }\n}\n\nexport default modalReducer","import * as actionTypes from '../actions/types'\n\nconst initialState = {\n    // exploreStatus: null,\n    goals: [],\n    selectedGoal: null,\n    achievements:[]\n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        case actionTypes.EXPLORE_GET_ALL_GOAL:\n            return {...state, goals: action.goals}\n        case actionTypes.EXPLORE_GET_GOAL:\n            return {...state, selectedGoal: action.target}\n        case actionTypes.EXPLORE_GET_ACH_BY_GOAL:\n            return {...state, achievements: action.achievements}\n        default:\n            break\n    }\n    return state\n}\n\nexport default reducer","import { combineReducers } from 'redux'\nimport authReducer from './authReducer'\nimport goalReducer from './goalReducer'\nimport taskReducer from './taskReducer'\nimport achievementReducer from './achievementReducer'\nimport { connectRouter } from 'connected-react-router'\nimport history from '../../history'\nimport modalReducer from './modalReducer'\nimport exploreReducer from './exploreReducer'\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  goal: goalReducer,\n  task: taskReducer,\n  achievement: achievementReducer,\n  modal: modalReducer,\n  explore: exploreReducer,\n  router: connectRouter(history)\n})\n\nexport default rootReducer\n","import * as actionTypes from '../actions/types'\n\n/*\nstate: {\n  id: number\n  username: string\n}\n*/\n\nexport default function(state = null, action) {\n  switch (action.type) {\n    case actionTypes.SIGNUP_USER:\n      return action.payload\n\n    case actionTypes.LOGIN_USER:\n      return action.payload\n\n    case actionTypes.LOGOUT_USER:\n      return null\n      \n    default:\n      return state\n  }\n}","import rootReducer from './reducers/rootReducer'\n\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';                                           \nimport { routerMiddleware } from 'connected-react-router';\nimport history from '../history'\n\nconst logger = store => {\n    return next => {\n        return action => {\n            console.log(\"[Middleware] Dispatching\", action)\n            const result = next(action)\n            console.log(\"[Middleware] Next State\", store.getState())\n            return result\n        }\n    }\n}\nexport const middlewares = [logger, thunk, routerMiddleware(history)]\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, {},\n    composeEnhancers(applyMiddleware(...middlewares)))\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport App from './App';\nimport store from './store/store'\nimport history from './history'\nimport 'semantic-ui-css/semantic.min.css'\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<Provider store={store}><App history={history}/></Provider>, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n// serviceWorker.unregister();\n"],"sourceRoot":""}